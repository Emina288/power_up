{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/hydro.js","webpack:///./src/wind.js","webpack:///./src/solar.js","webpack:///./src/thermo.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","addEventListener","modal","document","getElementById","hydroModal","thermoModal","solarModal","sound","getElementsByClassName","btn","hbtn","tbtn","sbtn","wbtn","span","spanW","spanS","spanT","spanH","onclick","style","display","currentTime","play","windModal","location","reload","event","target","sample","country","color","prodH","dataset","date","level1","svg","d3","select","append","attr","chart","xScale","scaleBand","range","domain","map","padding","yScale","scaleLinear","axisBottom","axisLeft","scale","tickSize","tickFormat","barGroups","selectAll","data","enter","bandwidth","transition","duration","delay","on","actual","remove","lineData","console","log","margin","vis","WIDTH","MARGINS","HEIGHT","top","right","bottom","left","xRange","extent","dataPoint","yRange","max","xAxis","yAxis","lineFunc","line","x","y","curve","curveBasis","path","totalLength","node","getTotalLength","ease","easeLinear","text","level2","this","a","idx","divergence","toFixed","tween","selection","start","end","getAttribute","interpolator","interpolateNumber","Math","round","width","html","level3"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,SAIjBlC,EAAoBA,EAAoBmC,EAAI,G,+BClFrD,gCAOAC,OAAOC,iBAAiB,oBAAoB,WACzC,IAAIC,EAAQC,SAASC,eAAe,WAChCC,EAAaF,SAASC,eAAe,cACrCE,EAAcH,SAASC,eAAe,eACtCG,EAAaJ,SAASC,eAAe,cACrCI,EAAQL,SAASM,uBAAuB,SAExCC,EAAMP,SAASC,eAAe,SAC9BO,EAAOR,SAASC,eAAe,QAC/BQ,EAAOT,SAASC,eAAe,QAC/BS,EAAOV,SAASC,eAAe,QAC/BU,EAAOX,SAASC,eAAe,QAE/BW,EAAOZ,SAASM,uBAAuB,SAAS,GAChDO,EAAQb,SAASM,uBAAuB,SAAS,GACjDQ,EAAQd,SAASM,uBAAuB,SAAS,GACjDS,EAAQf,SAASM,uBAAuB,SAAS,GACjDU,EAAQhB,SAASM,uBAAuB,SAAS,GAEpDC,EAAIU,QAAU,WACVlB,EAAMmB,MAAMC,QAAU,QACtBd,EAAM,GAAGe,YAAc,EACvBf,EAAM,GAAGgB,QAIbb,EAAKS,QAAU,WACXf,EAAWgB,MAAMC,QAAU,SAG/BV,EAAKQ,QAAU,WACXd,EAAYe,MAAMC,QAAU,SAGhCT,EAAKO,QAAU,WACXb,EAAWc,MAAMC,QAAU,SAG/BR,EAAKM,QAAU,WACXK,UAAUJ,MAAMC,QAAU,SAG9BP,EAAKK,QAAU,WACXlB,EAAMmB,MAAMC,QAAU,QAG1BH,EAAMC,QAAU,WACZf,EAAWgB,MAAMC,QAAU,OAC3BtB,OAAO0B,SAASC,UAGpBT,EAAME,QAAU,WACZd,EAAYe,MAAMC,QAAU,OAC3BtB,OAAO0B,SAASC,UAGrBV,EAAMG,QAAU,WACZb,EAAWc,MAAMC,QAAU,OAC1BtB,OAAO0B,SAASC,UAGrBX,EAAMI,QAAU,WACZK,UAAUJ,MAAMC,QAAU,OACzBtB,OAAO0B,SAASC,UAGrB3B,OAAOoB,QAAU,SAAUQ,GACnBA,EAAMC,QAAU3B,GAAS0B,EAAMC,QAAUxB,GAAcuB,EAAMC,SAAWvB,GAAesB,EAAMC,SAAWtB,GAAcqB,EAAMC,SAAWJ,YACvIG,EAAMC,OAAOR,MAAMC,QAAU,OAC5BtB,OAAO0B,SAASC,e,gCC5E7B,IAAMG,EAAS,CACb,CACEC,QAAS,SACT9C,MAAO,MACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,EAAG,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,SAGzB,CACE8C,QAAS,SACT9C,MAAO,KACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,GAAI,IACxBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,QAGzB,CACE8C,QAAS,QACT9C,MAAO,GACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,gBACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,GACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAGzB,CACE8C,QAAS,SACT9C,MAAO,GACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,GAAI,IACxBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,YACT9C,MAAO,EACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,GACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KAGzB,CACE8C,QAAS,QACT9C,MAAO,GACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,YACT9C,MAAO,GACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,KACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,aACT9C,MAAO,GACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,EAAG,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAQ3B,SAASmD,IAET,IACMC,EADeC,GAAGC,OAAO,cACNC,OAAO,OAAOC,KAAK,QAAS,SAM/CC,EAAQL,EACXG,OAAO,KACPC,KAAK,YAFM,oBAJC,GAID,aAJC,GAID,MAIRE,EAASL,GACZM,YACAC,MAAM,CAAC,EATI,MAUXC,OAAOhB,EAAOiB,KAAI,SAAChD,GAAD,OAAOA,EAAEgC,YAC3BiB,QAAQ,IAELC,EAASX,GAAGY,cAAcL,MAAM,CAZvB,IAYgC,IAAIC,OAAO,CAAC,EAAG,KAI9DJ,EACGF,OAAO,KACPC,KAAK,YAFR,uBAhBe,IAgBf,MAGGtE,KAAKmE,GAAGa,WAAWR,IAEtBD,EAAMF,OAAO,KAAKrE,KAAKmE,GAAGc,SAASH,IAEnCP,EACGF,OAAO,KACPC,KAAK,QAAS,QACdtE,KAZsBmE,GAAGc,WAAWC,MAAMJ,GAYxBK,UA3BP,IA2BwB,EAAG,GAAGC,WAAW,KAEvD,IAAMC,EAAYd,EAAMe,YAAYC,KAAK5B,GAAQ6B,QAAQnB,OAAO,KAEhEgB,EACGhB,OAAO,QACPC,KAAK,QAAS,OACdA,KAAK,KAAM,SAAAnE,GAAO,OAAOqE,EAAOrE,EAAEyD,YAClCU,KAAK,QAASE,EAAOiB,aACrBnB,KAAK,SAAU,GAAGoB,aAAaC,SAAS,KAAKC,OAAM,SAAUzF,EAAGN,GAAI,OAAW,GAAJA,KAC3EyE,KAAK,KAAM,SAAAnE,GAAO,OAAO2E,EAAO3E,EAAEW,UAClCwD,KAAK,UAAW,SAAAnE,GAAO,OArCX,IAqC2B2E,EAAO3E,EAAEW,UAEnDqD,GAAGmB,UAAU,QACVO,GAAG,SAAS,SAASC,EAAQjG,GAC5BsE,GAAGmB,UAAU,UAAUS,SAiI3B,SAAgBD,GACZ,IAAME,EAAWF,EAAO/B,QACxBkC,QAAQC,IAAIF,GACZ,IAIM9B,EADeC,GAAGC,OAAO,cACNC,OAAO,OAAOC,KAAK,QAAS,SAE/CC,EAAQL,EACXG,OAAO,KACPC,KAAK,KAAM,iBACXA,KAAK,YAHM,oBAGoB6B,GAHpB,aANC,GAMD,MAKVC,EAAMjC,GAAGC,OAAO,kBAElBiC,EAAQ,IAAO,GADfC,EAAU,IAEVC,EAAS,IAAM,EAAID,EACnBA,EAAU,CACRE,IAAK,GACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,IAGRC,EAASzC,GACRY,cACAL,MAAM,CAAC,EAAG2B,IACV1B,OAAOR,GAAG0C,OAAOb,GAAU,SAAAc,GAAS,OAAIA,EAAU9C,SACnD+C,EAAS5C,GACNY,cACAL,MAAM,CAAC6B,EAASD,EAAQE,IAAKF,EAAQI,SACrC/B,OAAO,CACN,EACAR,GAAG6C,IAAIhB,GAAU,SAAU7F,GACzB,OAAOA,EAAEW,WAGfmG,EAAQ9C,GAAGa,aAAaE,MAAM0B,GAC9BM,EAAQ/C,GAAGc,WAAWC,MAAM6B,GAI5BxC,EACGF,OAAO,KACPC,KAAK,QAAS,QACdA,KAAK,YAAa,aAAegC,EAAQK,KAAQ,OACjD3G,KANsBmE,GAAGc,WAAWC,MAAM6B,GAMxB5B,UAAUkB,EAAO,EAAG,GAAGjB,WAAW,KAGzDgB,EACG/B,OAAO,SACPC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAagC,EAAQK,KAAM,KAAOJ,EAASD,EAAQI,QAAU,KAC/E1G,KAAKiH,GAERb,EACG/B,OAAO,SACPC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAChD3G,KAAKkH,GAER,IAAIC,EAAWhD,GACZiD,OACAC,GAAE,SAAUlH,GACX,OAAOyG,EAAOzG,EAAE6D,SAEjBsD,GAAE,SAAUnH,GACX,OAAO4G,EAAO5G,EAAEW,UAEjByG,MAAMpD,GAAGqD,YAGNC,EAAOrB,EACV/B,OAAO,YACPC,KAAK,QAAS,QACdA,KAAK,IAAK6C,EAASnB,IACnB1B,KAAK,SAAU,QACfA,KAAK,eAAgB,GACrBA,KAAK,OAAQ,QACbA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAE/Ce,EAAcD,EAAKE,OAAOC,iBAE9BH,EACGnD,KAAK,mBAAoBoD,EAAc,IAAMA,GAC7CpD,KAAK,oBAAqBoD,GAC1BhC,aACAC,SAAS,KACTkC,KAAK1D,GAAG2D,YACRxD,KAAK,oBAAqB,GAG3BJ,EACCG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,EAAQ,EAAI,IACtB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAND,+BAM8BjC,EAAOlC,QANrC,0BAQFM,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,KAAOiC,EAAS,EAAK,IAC1BjC,KAAK,IAAK,GAAI,KACdA,KAAK,YAAa,eAClBA,KAAK,cAAe,UACpByD,KAAK,0CAER7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,EAAQ,IAClB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,QACLlC,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,UAAUS,SACvB9B,OAvPJ+D,CAAOlC,MAGRD,GAAG,cAAc,SAAUC,EAAQjG,GAIlCsE,GAAGmB,UAAU,UAAUhB,KAAK,UAAW,GAEvCH,GAAGC,OAAO6D,MACPvC,aACAC,SAAS,KACTrB,KAAK,UAAW,IAChBA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAW,KACrCU,KAAK,QAASE,EAAOiB,YAAc,IAEtC,IAAM6B,EAAIxC,EAAOgB,EAAOhF,OAEXyD,EACVF,OAAO,QACPC,KAAK,KAAM,SACXA,KAAK,KAAM,GACXA,KAAK,KAAMgD,GACXhD,KAAK,KAlEE,KAmEPA,KAAK,KAAMgD,GAEdjC,EACGhB,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAWY,EAAOiB,YAAc,KAC1DnB,KAAK,KAAK,SAAC4D,GAAD,OAAOpD,EAAOoD,EAAEpH,OAAS,MAEnCwD,KAAK,cAAe,UACpByD,MAAK,SAACG,EAAGC,GACR,IAAMC,GAAcF,EAAEpH,MAAQgF,EAAOhF,OAAOuH,QAAQ,GAEhDN,EAAO,GAIX,OAHIK,EAAa,IAAGL,GAAQ,KAC5BA,GAAQ,GAAJ,OAAOK,EAAP,KAEGD,IAAQtI,EACXkI,EADG,UAEAjC,EAAOlC,QAFP,aAEmBkC,EAAOhF,MAF1B,WAMZ+E,GAAG,cAAc,WAChB1B,GAAGmB,UAAU,UAAUhB,KAAK,UAAW,GAEvCH,GAAGC,OAAO6D,MACPvC,aACAC,SAAS,KACTrB,KAAK,UAAW,GAChBA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,YAC1BU,KAAK,QAASE,EAAOiB,aAExBlB,EAAMe,UAAU,UAAUS,SAC1BxB,EAAMe,UAAU,eAAeS,YAKxBV,EACRhB,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAWY,EAAOiB,YAAc,KAC1DnB,KAAK,KAAK,SAAC4D,GAAD,OAAOpD,EAAOoD,EAAEpH,OAAS,KACnCwD,KAAK,KAAM,SAAAnE,GAAO,OA7GN,OA8GZmE,KAAK,SAAU,GACfoB,aACAC,SAAS,KACTC,OAAM,SAAUzF,EAAGN,GAClB,OAAW,GAAJA,KAERyE,KAAK,KAAK,SAACnE,GACV,OAAO2E,EAAO3E,EAAEW,OAAS,MAE1BwD,KAAK,UAAU,SAACnE,GACf,OAxHW,IAwHK2E,EAAO3E,EAAEW,UAE1BwD,KAAK,UAAU,SAAC4D,GAAD,OAAOA,EAAEpH,SACxBwD,KAAK,cAAe,UACpByD,KAAK,GAIHrC,aACA4C,MAAM,QAAQ,WACb,IAAIC,EAAYpE,GAAGC,OAAO6D,MACtBO,EAAQrE,GAAGC,OAAO6D,MAAMF,OACxBU,EAAMR,KAAKS,aAAa,UACxBC,EAAexE,GAAGyE,kBAAkBJ,EAAOC,GAC/C,OAAO,SAAU1H,GACfwH,EAAUR,KAAKc,KAAKC,MAAMH,EAAa5H,SAG1C4E,SAAS,KAEdzB,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,KAAK,KACVA,KAAK,IAlJO,GAkJO,KACnBA,KAAK,YAAa,eAClBA,KAAK,cAAe,UACpByD,KAAK,0CAER7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAKyE,KACVzE,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,gDAER7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAKyE,IACVzE,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,0BACLlC,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,UAAUS,SAgI3B,WACE,IACM7B,EADeC,GAAGC,OAAO,cACNC,OAAO,OAAOC,KAAK,QAAS,SACpDgC,QAAU,GACRD,MAAQ,IAAO,EAAIC,QACnBC,OAAS,IAAM,EAAID,QACnBA,QAAU,CACTE,IAAK,GACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,IAERzC,EACGG,OAAO,iBACPC,KAAK,QAAS,eACdA,KAAK,QAAS+B,OACd/B,KAAK,SAAU,KACfA,KAAK,IAAK,IACVA,KAAK,IAAK,GACVD,OAAO,cACPnB,MAAM,OAAQ,yBACd8F,KACC,qmBAEJ9E,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,MAAQ,IAClB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,QACLlC,GAAG,SAAS,WACX1B,GAAGmB,UAAU,UAAUS,SACvB9B,OAhKJgF,MAwKJpH,OAAOC,iBAAiB,oBAAoB,WACjCE,SAASC,eAAe,SAC/BgB,QAAU,WACVgB,S,cCreJ,IAAMN,EAAS,CACb,CACEC,QAAS,SACT9C,MAAO,EACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,EAAG,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,SACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,GAAI,IACxBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAGzB,CACE8C,QAAS,QACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,QAGzB,CACE8C,QAAS,gBACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,GACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAGzB,CACE8C,QAAS,SACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,GAAI,IACxBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAGzB,CACE8C,QAAS,YACT9C,MAAO,EACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,GACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KAGzB,CACE8C,QAAS,QACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAGzB,CACE8C,QAAS,YACT9C,MAAO,EACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,KACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,KAGzB,CACE8C,QAAS,aACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,EAAG,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,QAO3B,SAASmD,IACP,IACMC,EADeC,GAAGC,OAAO,eACNC,OAAO,OAAOC,KAAK,QAAS,UAM/CC,EAAQL,EACXG,OAAO,KACPC,KAAK,YAFM,oBAJC,GAID,aAJC,GAID,MAIRE,EAASL,GACZM,YACAC,MAAM,CAAC,EATI,MAUXC,OAAOhB,EAAOiB,KAAI,SAAChD,GAAD,OAAOA,EAAEgC,YAC3BiB,QAAQ,IAELC,EAASX,GAAGY,cAAcL,MAAM,CAZvB,IAYgC,IAAIC,OAAO,CAAC,EAAG,KAI9DJ,EACGF,OAAO,KACPC,KAAK,YAFR,uBAhBe,IAgBf,MAGGtE,KAAKmE,GAAGa,WAAWR,IAEtBD,EAAMF,OAAO,KAAKrE,KAAKmE,GAAGc,SAASH,IAEnCP,EACGF,OAAO,KACPC,KAAK,QAAS,QACdtE,KAZsBmE,GAAGc,WAAWC,MAAMJ,GAYxBK,UA3BP,IA2BwB,EAAG,GAAGC,WAAW,KAEvD,IAAMC,EAAYd,EAAMe,YAAYC,KAAK5B,GAAQ6B,QAAQnB,OAAO,KAEhEgB,EACGhB,OAAO,QACPC,KAAK,QAAS,QACdA,KAAK,KAAK,SAACnE,GACV,OAAOqE,EAAOrE,EAAEyD,YAEjBU,KAAK,QAASE,EAAOiB,aACrBnB,KAAK,SAAU,GACfoB,aACAC,SAAS,KACTC,OAAM,SAAUzF,EAAGN,GAClB,OAAW,GAAJA,KAERyE,KAAK,KAAK,SAACnE,GACV,OAAO2E,EAAO3E,EAAEW,UAEjBwD,KAAK,UAAU,SAACnE,GACf,OA/CW,IA+CK2E,EAAO3E,EAAEW,UAG7BqD,GAAGmB,UAAU,SACVO,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,WAAWS,SA2H9B,SAAgBD,GACd,IAAME,EAAWF,EAAO/B,QACxBkC,QAAQC,IAAIF,GACZ,IAGM9B,EADeC,GAAGC,OAAO,eACNC,OAAO,OAAOC,KAAK,QAAS,UAE/CC,EAAQL,EACXG,OAAO,KACPC,KAAK,KAAM,iBACXA,KAAK,YAHM,oBAGoB6B,GAHpB,aALC,GAKD,MAKVC,EAAMjC,GAAGC,OAAO,kBAElBiC,EAAQ,IAAO,GADfC,EAAU,IAEVC,EAAS,IAAM,EAAID,EACnBA,EAAU,CACRE,IAAK,GACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,IAERC,EAASzC,GACNY,cACAL,MAAM,CAAC,EAAG2B,IACV1B,OAAOR,GAAG0C,OAAOb,GAAU,SAACc,GAAD,OAAeA,EAAU9C,SACvD+C,EAAS5C,GACNY,cACAL,MAAM,CAAC6B,EAASD,EAAQE,IAAKF,EAAQI,SACrC/B,OAAO,CACN,EACAR,GAAG6C,IAAIhB,GAAU,SAAU7F,GACzB,OAAOA,EAAEW,WAGfmG,EAAQ9C,GAAGa,aAAaE,MAAM0B,GAC9BM,EAAQ/C,GAAGc,WAAWC,MAAM6B,GAI9BxC,EACGF,OAAO,KACPC,KAAK,QAAS,QACdA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAChD3G,KANsBmE,GAAGc,WAAWC,MAAM6B,GAMxB5B,UAAUkB,EAAO,EAAG,GAAGjB,WAAW,KAEvDgB,EACG/B,OAAO,SACPC,KAAK,QAAS,UACdA,KACC,YACA,aAAegC,EAAQK,KAAO,KAAOJ,EAASD,EAAQI,QAAU,KAEjE1G,KAAKiH,GAERb,EACG/B,OAAO,SACPC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAChD3G,KAAKkH,GAER,IAAIC,EAAWhD,GACZiD,OACAC,GAAE,SAAUlH,GACX,OAAOyG,EAAOzG,EAAE6D,SAEjBsD,GAAE,SAAUnH,GACX,OAAO4G,EAAO5G,EAAEW,UAEjByG,MAAMpD,GAAGqD,YAENC,EAAOrB,EACV/B,OAAO,YACPC,KAAK,QAAS,SACdA,KAAK,IAAK6C,EAASnB,IACnB1B,KAAK,SAAU,QACfA,KAAK,eAAgB,GACrBA,KAAK,OAAQ,QACbA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAE/Ce,EAAcD,EAAKE,OAAOC,iBAE9BH,EACGnD,KAAK,mBAAoBoD,EAAc,IAAMA,GAC7CpD,KAAK,oBAAqBoD,GAC1BhC,aACAC,SAAS,KACTkC,KAAK1D,GAAG2D,YACRxD,KAAK,oBAAqB,GAE7BJ,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,EAAQ,EAAI,IACtB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KANH,8BAM+BjC,EAAOlC,QANtC,0BAQAM,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,KAAOiC,EAAS,EAAK,IAC1BjC,KAAK,IAAK,GAAK,KACfA,KAAK,YAAa,eAClBA,KAAK,cAAe,UACpByD,KAAK,0CACR7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,EAAQ,IAClB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,QACLlC,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,WAAWS,SACxB9B,OA9OA+D,CAAOlC,MAERD,GAAG,cAAc,SAAUC,EAAQjG,GAClCsE,GAAGmB,UAAU,UAAUhB,KAAK,UAAW,GAEvCH,GAAGC,OAAO6D,MACPvC,aACAC,SAAS,KACTrB,KAAK,UAAW,IAChBA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAW,KACrCU,KAAK,QAASE,EAAOiB,YAAc,IAEtC,IAAM6B,EAAIxC,EAAOgB,EAAOhF,OAEXyD,EACVF,OAAO,QACPC,KAAK,KAAM,SACXA,KAAK,KAAM,GACXA,KAAK,KAAMgD,GACXhD,KAAK,KAzEE,KA0EPA,KAAK,KAAMgD,GAEdjC,EACGhB,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAWY,EAAOiB,YAAc,KAC1DnB,KAAK,KAAK,SAAC4D,GAAD,OAAOpD,EAAOoD,EAAEpH,OAAS,MAEnCwD,KAAK,cAAe,UACpByD,MAAK,SAACG,EAAGC,GACR,IAAMC,GAAcF,EAAEpH,MAAQgF,EAAOhF,OAAOuH,QAAQ,GAEhDN,EAAO,GAIX,OAHIK,EAAa,IAAGL,GAAQ,KAC5BA,GAAQ,GAAJ,OAAOK,EAAP,KAEGD,IAAQtI,EAAIkI,EAAZ,UAAsBjC,EAAOlC,QAA7B,aAAyCkC,EAAOhF,MAAhD,WAGZ+E,GAAG,cAAc,WAChB1B,GAAGmB,UAAU,UAAUhB,KAAK,UAAW,GAEvCH,GAAGC,OAAO6D,MACPvC,aACAC,SAAS,KACTrB,KAAK,UAAW,GAChBA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,YAC1BU,KAAK,QAASE,EAAOiB,aAExBlB,EAAMe,UAAU,UAAUS,SAC1BxB,EAAMe,UAAU,eAAeS,YAGxBV,EACRhB,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAWY,EAAOiB,YAAc,KAC1DnB,KAAK,KAAK,SAAC4D,GAAD,OAAOpD,EAAOoD,EAAEpH,OAAS,KACnCwD,KAAK,KAAK,SAACnE,GACV,OAhHW,OAkHZmE,KAAK,SAAU,GACfoB,aACAC,SAAS,KACTC,OAAM,SAAUzF,EAAGN,GAClB,OAAW,GAAJA,KAERyE,KAAK,KAAK,SAACnE,GACV,OAAO2E,EAAO3E,EAAEW,OAAS,MAE1BwD,KAAK,UAAU,SAACnE,GACf,OA5HW,IA4HK2E,EAAO3E,EAAEW,UAE1BwD,KAAK,UAAU,SAAC4D,GAAD,OAAOA,EAAEpH,SACxBwD,KAAK,cAAe,UACpByD,KAAK,GAILrC,aACA4C,MAAM,QAAQ,WACb,IAAIC,EAAYpE,GAAGC,OAAO6D,MAEtBQ,GADQtE,GAAGC,OAAO6D,MAAMF,OAClBE,KAAKS,aAAa,WACxBC,EAAexE,GAAGyE,kBAAkBH,EAAKA,GAE7C,OAAO,SAAU1H,GACfwH,EAAUR,KAAKc,KAAKC,MAAMH,EAAa5H,SAG1C4E,SAAS,KAEZzB,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,KAAK,KACVA,KAAK,IAvJO,GAuJO,KACnBA,KAAK,YAAa,eAClBA,KAAK,cAAe,UACpByD,KAAK,0CAER7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAKyE,KACVzE,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,gDAER7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAKyE,IACVzE,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,0BACLlC,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,WAAWS,SA6H5B,WACE,IACM7B,EADeC,GAAGC,OAAO,eACNC,OAAO,OAAOC,KAAK,QAAS,UACpDgC,QAAU,GACRD,MAAQ,IAAO,EAAIC,QACnBC,OAAS,IAAM,EAAID,QACnBA,QAAU,CACTE,IAAK,GACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,IAERzC,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,MAAQ,IAClB/B,KAAK,IAAK,KACVA,KAAK,cAAe,UACpByD,KAAK,QACLlC,GAAG,SAAS,WACX1B,GAAGmB,UAAU,WAAWS,SACxB9B,OAGJC,EACGG,OAAO,iBACPC,KAAK,QAAS,gBACdA,KAAK,QAAS+B,OACd/B,KAAK,SAAU,KACfA,KAAK,IAAK,IACVA,KAAK,IAAK,GACVD,OAAO,cACPnB,MAAM,OAAQ,yBACd8F,KACC,skBA9JJC,MAqKNpH,OAAOC,iBAAiB,oBAAoB,WAClCE,SAASC,eAAe,SAC9BgB,QAAU,WACVgB,S,cCreJ,IAAMN,EAAS,CACb,CACEC,QAAS,SACT9C,MAAO,EACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,EAAG,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,SACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,GAAI,IACxBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAGzB,CACE8C,QAAS,QACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAGzB,CACE8C,QAAS,gBACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,GACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAGzB,CACE8C,QAAS,SACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,GAAI,IACxBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAGzB,CACE8C,QAAS,YACT9C,MAAO,EACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,GACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KAGzB,CACE8C,QAAS,QACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,OAGzB,CACE8C,QAAS,YACT9C,MAAO,EACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,KACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,KAGzB,CACE8C,QAAS,aACT9C,MAAO,IACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,EAAG,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,GACrB,CAAEkD,KAAM,KAAMlD,MAAO,QAO3B,SAASmD,IACP,IACMC,EADeC,GAAGC,OAAO,eACNC,OAAO,OAAOC,KAAK,QAAS,UAM/CC,EAAQL,EACXG,OAAO,KACPC,KAAK,YAFM,oBAJC,GAID,aAJC,GAID,MAIRE,EAASL,GACZM,YACAC,MAAM,CAAC,EATI,MAUXC,OAAOhB,EAAOiB,KAAI,SAAChD,GAAD,OAAOA,EAAEgC,YAC3BiB,QAAQ,IAELC,EAASX,GAAGY,cAAcL,MAAM,CAZvB,IAYgC,IAAIC,OAAO,CAAC,EAAG,KAI9DJ,EACGF,OAAO,KACPC,KAAK,YAFR,uBAhBe,IAgBf,MAGGtE,KAAKmE,GAAGa,WAAWR,IAEtBD,EAAMF,OAAO,KAAKrE,KAAKmE,GAAGc,SAASH,IAEnCP,EACGF,OAAO,KACPC,KAAK,QAAS,QACdtE,KAZsBmE,GAAGc,WAAWC,MAAMJ,GAYxBK,UA3BP,IA2BwB,EAAG,GAAGC,WAAW,KAEvD,IAAMC,EAAYd,EAAMe,YAAYC,KAAK5B,GAAQ6B,QAAQnB,OAAO,KAEhEgB,EACGhB,OAAO,QACPC,KAAK,QAAS,QACdA,KAAK,KAAK,SAACnE,GACV,OAAOqE,EAAOrE,EAAEyD,YAEjBU,KAAK,QAASE,EAAOiB,aACrBnB,KAAK,KAAM,SAAAnE,GAAO,OArCN,OAsCZmE,KAAK,SAAU,GACfoB,aACAC,SAAS,KACTC,OAAM,SAAUzF,EAAGN,GAClB,OAAW,GAAJA,KAERyE,KAAK,KAAK,SAACnE,GACV,OAAO2E,EAAO3E,EAAEW,UAEjBwD,KAAK,UAAU,SAACnE,GACf,OAhDW,IAgDK2E,EAAO3E,EAAEW,UAG7BqD,GAAGmB,UAAU,SACVO,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,WAAWS,SA2H9B,SAAgBD,GACd,IAAME,EAAWF,EAAO/B,QACxBkC,QAAQC,IAAIF,GACZ,IAGM9B,EADeC,GAAGC,OAAO,eACNC,OAAO,OAAOC,KAAK,QAAS,UAE/CC,EAAQL,EACXG,OAAO,KACPC,KAAK,KAAM,iBACXA,KAAK,YAHM,oBAGoB6B,GAHpB,aALC,GAKD,MAKVC,EAAMjC,GAAGC,OAAO,kBAElBiC,EAAQ,IAAO,GADfC,EAAU,IAEVC,EAAS,IAAM,EAAID,EACnBA,EAAU,CACRE,IAAK,GACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,IAERC,EAASzC,GACNY,cACAL,MAAM,CAAC,EAAG2B,IACV1B,OAAOR,GAAG0C,OAAOb,GAAU,SAACc,GAAD,OAAeA,EAAU9C,SACvD+C,EAAS5C,GACNY,cACAL,MAAM,CAAC6B,EAASD,EAAQE,IAAKF,EAAQI,SACrC/B,OAAO,CACN,EACAR,GAAG6C,IAAIhB,GAAU,SAAU7F,GACzB,OAAOA,EAAEW,WAGfmG,EAAQ9C,GAAGa,aAAaE,MAAM0B,GAC9BM,EAAQ/C,GAAGc,WAAWC,MAAM6B,GAI9BxC,EACGF,OAAO,KACPC,KAAK,QAAS,QACdA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAChD3G,KANsBmE,GAAGc,WAAWC,MAAM6B,GAMxB5B,UAAUkB,EAAO,EAAG,GAAGjB,WAAW,KAEvDgB,EACG/B,OAAO,SACPC,KAAK,QAAS,UACdA,KACC,YACA,aAAegC,EAAQK,KAAO,KAAOJ,EAASD,EAAQI,QAAU,KAEjE1G,KAAKiH,GAERb,EACG/B,OAAO,SACPC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAChD3G,KAAKkH,GAER,IAAIC,EAAWhD,GACZiD,OACAC,GAAE,SAAUlH,GACX,OAAOyG,EAAOzG,EAAE6D,SAEjBsD,GAAE,SAAUnH,GACX,OAAO4G,EAAO5G,EAAEW,UAEjByG,MAAMpD,GAAGqD,YAENC,EAAOrB,EACV/B,OAAO,YACPC,KAAK,QAAS,SACdA,KAAK,IAAK6C,EAASnB,IACnB1B,KAAK,SAAU,QACfA,KAAK,eAAgB,GACrBA,KAAK,OAAQ,QACbA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAE/Ce,EAAcD,EAAKE,OAAOC,iBAE9BH,EACGnD,KAAK,mBAAoBoD,EAAc,IAAMA,GAC7CpD,KAAK,oBAAqBoD,GAC1BhC,aACAC,SAAS,KACTkC,KAAK1D,GAAG2D,YACRxD,KAAK,oBAAqB,GAE7BJ,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,EAAQ,EAAI,IACtB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KANH,+BAMgCjC,EAAOlC,QANvC,0BAQAM,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,KAAOiC,EAAS,EAAK,IAC1BjC,KAAK,IAAK,GAAK,KACfA,KAAK,YAAa,eAClBA,KAAK,cAAe,UACpByD,KAAK,0CACR7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,EAAQ,IAClB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,QACLlC,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,WAAWS,SACxB9B,OA9OA+D,CAAOlC,MAERD,GAAG,cAAc,SAAUC,EAAQjG,GAClCsE,GAAGmB,UAAU,UAAUhB,KAAK,UAAW,GAEvCH,GAAGC,OAAO6D,MACPvC,aACAC,SAAS,KACTrB,KAAK,UAAW,IAChBA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAW,KACrCU,KAAK,QAASE,EAAOiB,YAAc,IAEtC,IAAM6B,EAAIxC,EAAOgB,EAAOhF,OAEXyD,EACVF,OAAO,QACPC,KAAK,KAAM,SACXA,KAAK,KAAM,GACXA,KAAK,KAAMgD,GACXhD,KAAK,KA1EE,KA2EPA,KAAK,KAAMgD,GAEdjC,EACGhB,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAWY,EAAOiB,YAAc,KAC1DnB,KAAK,KAAK,SAAC4D,GAAD,OAAOpD,EAAOoD,EAAEpH,OAAS,MAEnCwD,KAAK,cAAe,UACpByD,MAAK,SAACG,EAAGC,GACR,IAAMC,GAAcF,EAAEpH,MAAQgF,EAAOhF,OAAOuH,QAAQ,GAEhDN,EAAO,GAIX,OAHIK,EAAa,IAAGL,GAAQ,KAC5BA,GAAQ,GAAJ,OAAOK,EAAP,KAEGD,IAAQtI,EAAIkI,EAAZ,UAAsBjC,EAAOlC,QAA7B,aAAyCkC,EAAOhF,MAAhD,WAGZ+E,GAAG,cAAc,WAChB1B,GAAGmB,UAAU,UAAUhB,KAAK,UAAW,GAEvCH,GAAGC,OAAO6D,MACPvC,aACAC,SAAS,KACTrB,KAAK,UAAW,GAChBA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,YAC1BU,KAAK,QAASE,EAAOiB,aAExBlB,EAAMe,UAAU,UAAUS,SAC1BxB,EAAMe,UAAU,eAAeS,YAGxBV,EACRhB,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAWY,EAAOiB,YAAc,KAC1DnB,KAAK,KAAK,SAAC4D,GAAD,OAAOpD,EAAOoD,EAAEpH,OAAS,KACnCwD,KAAK,KAAK,SAACnE,GACV,OAjHW,OAmHZmE,KAAK,SAAU,GACfoB,aACAC,SAAS,KACTC,OAAM,SAAUzF,EAAGN,GAClB,OAAW,GAAJA,KAERyE,KAAK,KAAK,SAACnE,GACV,OAAO2E,EAAO3E,EAAEW,OAAS,MAE1BwD,KAAK,UAAU,SAACnE,GACf,OA7HW,IA6HK2E,EAAO3E,EAAEW,UAE1BwD,KAAK,UAAU,SAAC4D,GAAD,OAAOA,EAAEpH,SACxBwD,KAAK,cAAe,UACpByD,KAAK,GAILrC,aACA4C,MAAM,QAAQ,WACb,IAAIC,EAAYpE,GAAGC,OAAO6D,MAEtBQ,GADQtE,GAAGC,OAAO6D,MAAMF,OAClBE,KAAKS,aAAa,WACxBC,EAAexE,GAAGyE,kBAAkBH,EAAKA,GAE7C,OAAO,SAAU1H,GACfwH,EAAUR,KAAKc,KAAKC,MAAMH,EAAa5H,SAG1C4E,SAAS,KAEZzB,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,KAAK,KACVA,KAAK,IAxJO,GAwJO,KACnBA,KAAK,YAAa,eAClBA,KAAK,cAAe,UACpByD,KAAK,0CAER7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAKyE,KACVzE,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,iDAER7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAKyE,IACVzE,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,0BACLlC,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,WAAWS,SA6H9B,WACE,IACM7B,EADeC,GAAGC,OAAO,eACNC,OAAO,OAAOC,KAAK,QAAS,UACpDgC,QAAU,GACRD,MAAQ,IAAO,EAAIC,QACnBC,OAAS,IAAM,EAAID,QACnBA,QAAU,CACTE,IAAK,GACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,IAERzC,EACGG,OAAO,iBACPC,KAAK,QAAS,gBACdA,KAAK,QAAS+B,OACd/B,KAAK,SAAU,KACfA,KAAK,IAAK,IACVA,KAAK,IAAK,GACVD,OAAO,cACPnB,MAAM,OAAQ,yBACd8F,KACC,2zBAGJ9E,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,MAAQ,IAClB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,QACLlC,GAAG,SAAS,WACX1B,GAAGmB,UAAU,WAAWS,SACxB9B,OA9JFgF,MAmKNpH,OAAOC,iBAAiB,oBAAoB,WAClCE,SAASC,eAAe,SAC9BgB,QAAU,WACVgB,S,cCpeJ,IAAMN,EAAS,CACb,CACEC,QAAS,SACT9C,MAAO,KACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,EAAG,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,QAGzB,CACE8C,QAAS,SACT9C,MAAO,KACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,GAAI,IACxBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,QACT9C,MAAO,KACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,gBACT9C,MAAO,KACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,GACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,SACT9C,MAAO,GACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,GAAI,IACxBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,YACT9C,MAAO,GACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,GACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,QACT9C,MAAO,GACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,YACT9C,MAAO,GACP+C,MAAO,UACPC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,KACrBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,MAGzB,CACE8C,QAAS,aACT9C,MAAO,KACP+C,MAAO,UACPC,MAAO,CAAC,GAAI,GAAI,GAAI,EAAG,IACvBC,QAAS,CACP,CAAEC,KAAM,KAAMlD,MAAO,KACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,IACrB,CAAEkD,KAAM,KAAMlD,MAAO,SAO3B,SAASmD,IACP,IACMC,EADeC,GAAGC,OAAO,eACNC,OAAO,OAAOC,KAAK,QAAS,UAM/CC,EAAQL,EACXG,OAAO,KACPC,KAAK,YAFM,oBAJC,GAID,aAJC,GAID,MAIRE,EAASL,GACZM,YACAC,MAAM,CAAC,EATI,MAUXC,OAAOhB,EAAOiB,KAAI,SAAChD,GAAD,OAAOA,EAAEgC,YAC3BiB,QAAQ,IAELC,EAASX,GAAGY,cAAcL,MAAM,CAZvB,IAYgC,IAAIC,OAAO,CAAC,EAAG,MAI9DJ,EACGF,OAAO,KACPC,KAAK,YAFR,uBAhBe,IAgBf,MAGGtE,KAAKmE,GAAGa,WAAWR,IAEtBD,EAAMF,OAAO,KAAKrE,KAAKmE,GAAGc,SAASH,IAEnCP,EACGF,OAAO,KACPC,KAAK,QAAS,QACdtE,KAZsBmE,GAAGc,WAAWC,MAAMJ,GAYxBK,UA3BP,IA2BwB,EAAG,GAAGC,WAAW,KAEvD,IAAMC,EAAYd,EAAMe,YAAYC,KAAK5B,GAAQ6B,QAAQnB,OAAO,KAEhEgB,EACGhB,OAAO,QACPC,KAAK,QAAS,QACdA,KAAK,KAAK,SAACnE,GACV,OAAOqE,EAAOrE,EAAEyD,YAEjBU,KAAK,QAASE,EAAOiB,aACrBnB,KAAK,SAAU,GACfoB,aACAC,SAAS,KACTC,OAAM,SAAUzF,EAAGN,GAClB,OAAW,GAAJA,KAERyE,KAAK,KAAK,SAACnE,GACV,OAAO2E,EAAO3E,EAAEW,UAEjBwD,KAAK,UAAU,SAACnE,GACf,OA/CW,IA+CK2E,EAAO3E,EAAEW,UAG7BqD,GAAGmB,UAAU,SACVO,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,WAAWS,SA0H9B,SAAgBD,GACd,IAAME,EAAWF,EAAO/B,QACxBkC,QAAQC,IAAIF,GACZ,IAGM9B,EADeC,GAAGC,OAAO,eACNC,OAAO,OAAOC,KAAK,QAAS,UAE/CC,EAAQL,EACXG,OAAO,KACPC,KAAK,KAAM,iBACXA,KAAK,YAHM,oBAGoB6B,GAHpB,aALC,GAKD,MAKVC,EAAMjC,GAAGC,OAAO,kBAElBiC,EAAQ,IAAO,GADfC,EAAU,IAEVC,EAAS,IAAM,EAAID,EACnBA,EAAU,CACRE,IAAK,GACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,IAERC,EAASzC,GACNY,cACAL,MAAM,CAAC,EAAG2B,IACV1B,OAAOR,GAAG0C,OAAOb,GAAU,SAACc,GAAD,OAAeA,EAAU9C,SACvD+C,EAAS5C,GACNY,cACAL,MAAM,CAAC6B,EAASD,EAAQE,IAAKF,EAAQI,SACrC/B,OAAO,CACN,EACAR,GAAG6C,IAAIhB,GAAU,SAAU7F,GACzB,OAAOA,EAAEW,WAGfmG,EAAQ9C,GAAGa,aAAaE,MAAM0B,GAC9BM,EAAQ/C,GAAGc,WAAWC,MAAM6B,GAI9BxC,EACGF,OAAO,KACPC,KAAK,QAAS,QACdA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAChD3G,KANsBmE,GAAGc,WAAWC,MAAM6B,GAMxB5B,UAAUkB,EAAO,EAAG,GAAGjB,WAAW,KAEvDgB,EACG/B,OAAO,SACPC,KAAK,QAAS,UACdA,KACC,YACA,aAAegC,EAAQK,KAAO,KAAOJ,EAASD,EAAQI,QAAU,KAEjE1G,KAAKiH,GAERb,EACG/B,OAAO,SACPC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAChD3G,KAAKkH,GAER,IAAIC,EAAWhD,GACZiD,OACAC,GAAE,SAAUlH,GACX,OAAOyG,EAAOzG,EAAE6D,SAEjBsD,GAAE,SAAUnH,GACX,OAAO4G,EAAO5G,EAAEW,UAEjByG,MAAMpD,GAAGqD,YAENC,EAAOrB,EACV/B,OAAO,YACPC,KAAK,IAAK6C,EAASnB,IACnB1B,KAAK,SAAU,QACfA,KAAK,eAAgB,GACrBA,KAAK,OAAQ,QACbA,KAAK,YAAa,aAAegC,EAAQK,KAAO,OAE/Ce,EAAcD,EAAKE,OAAOC,iBAE9BH,EACGnD,KAAK,mBAAoBoD,EAAc,IAAMA,GAC7CpD,KAAK,oBAAqBoD,GAC1BhC,aACAC,SAAS,KACTkC,KAAK1D,GAAG2D,YACRxD,KAAK,oBAAqB,GAE7BJ,EACGG,OAAO,QACPC,KAAK,QAAS,UACdA,KAAK,IAAK+B,EAAQ,EAAI,IACtB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KANH,gCAMiCjC,EAAOlC,QANxC,0BAQAM,EACGG,OAAO,QACPC,KAAK,QAAS,UACdA,KAAK,KAAOiC,EAAS,EAAK,IAC1BjC,KAAK,IAAK,GAAK,KACfA,KAAK,YAAa,eAClBA,KAAK,cAAe,UACpByD,KAAK,0CACR7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,EAAQ,IAClB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,QACLlC,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,WAAWS,SACxB9B,OA5OA+D,CAAOlC,MAERD,GAAG,cAAc,SAAUC,EAAQjG,GAClCsE,GAAGmB,UAAU,WAAWhB,KAAK,UAAW,GAExCH,GAAGC,OAAO6D,MACPvC,aACAC,SAAS,KACTrB,KAAK,UAAW,IAChBA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAW,KACrCU,KAAK,QAASE,EAAOiB,YAAc,IAEtC,IAAM6B,EAAIxC,EAAOgB,EAAOhF,OAEXyD,EACVF,OAAO,QACPC,KAAK,KAAM,SACXA,KAAK,KAAM,GACXA,KAAK,KAAMgD,GACXhD,KAAK,KAzEE,KA0EPA,KAAK,KAAMgD,GAEdjC,EACGhB,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAWY,EAAOiB,YAAc,KAC1DnB,KAAK,KAAK,SAAC4D,GAAD,OAAOpD,EAAOoD,EAAEpH,OAAS,MAEnCwD,KAAK,cAAe,UACpByD,MAAK,SAACG,EAAGC,GACR,IAAMC,GAAcF,EAAEpH,MAAQgF,EAAOhF,OAAOuH,QAAQ,GAEhDN,EAAO,GAIX,OAHIK,EAAa,IAAGL,GAAQ,KAC5BA,GAAQ,GAAJ,OAAOK,EAAP,KAEGD,IAAQtI,EAAIkI,EAAZ,UAAsBjC,EAAOlC,QAA7B,aAAyCkC,EAAOhF,MAAhD,WAGZ+E,GAAG,cAAc,WAChB1B,GAAGmB,UAAU,WAAWhB,KAAK,UAAW,GAExCH,GAAGC,OAAO6D,MACPvC,aACAC,SAAS,KACTrB,KAAK,UAAW,GAChBA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,YAC1BU,KAAK,QAASE,EAAOiB,aAExBlB,EAAMe,UAAU,UAAUS,SAC1BxB,EAAMe,UAAU,eAAeS,YAGxBV,EACRhB,OAAO,QACPC,KAAK,QAAS,UACdA,KAAK,KAAK,SAAC4D,GAAD,OAAO1D,EAAO0D,EAAEtE,SAAWY,EAAOiB,YAAc,KAC1DnB,KAAK,KAAK,SAAC4D,GAAD,OAAOpD,EAAOoD,EAAEpH,OAAS,KACnCwD,KAAK,KAAK,SAACnE,GACV,OAhHW,OAkHZmE,KAAK,SAAU,GACfoB,aACAC,SAAS,KACTC,OAAM,SAAUzF,EAAGN,GAClB,OAAW,GAAJA,KAERyE,KAAK,KAAK,SAACnE,GACV,OAAO2E,EAAO3E,EAAEW,OAAS,MAE1BwD,KAAK,UAAU,SAACnE,GACf,OA5HW,IA4HK2E,EAAO3E,EAAEW,UAE1BwD,KAAK,UAAU,SAAC4D,GAAD,OAAOA,EAAEpH,SACxBwD,KAAK,cAAe,UACpByD,KAAK,GAGLrC,aACA4C,MAAM,QAAQ,WACb,IAAIC,EAAYpE,GAAGC,OAAO6D,MACtBO,EAAQrE,GAAGC,OAAO6D,MAAMF,OACxBU,EAAMR,KAAKS,aAAa,UACxBC,EAAexE,GAAGyE,kBAAkBJ,EAAOC,GAE/C,OAAO,SAAU1H,GACfwH,EAAUR,KAAKc,KAAKC,MAAMH,EAAa5H,SAG1C4E,SAAS,KAEZzB,EACGG,OAAO,QACPC,KAAK,QAAS,UACdA,KAAK,KAAK,KACVA,KAAK,IAtJO,GAsJO,KACnBA,KAAK,YAAa,eAClBA,KAAK,cAAe,UACpByD,KAAK,0CAER7D,EACGG,OAAO,QACPC,KAAK,QAAS,UACdA,KAAK,IAAKyE,KACVzE,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,kDAER7D,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAKyE,IACVzE,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,0BACLlC,GAAG,SAAS,SAAUC,EAAQjG,GAC7BsE,GAAGmB,UAAU,WAAWS,SA4H9B,WACE,IACM7B,EADeC,GAAGC,OAAO,eACNC,OAAO,OAAOC,KAAK,QAAS,UACpDgC,QAAU,GACRD,MAAQ,IAAO,EAAIC,QACnBC,OAAS,IAAM,EAAID,QACnBA,QAAU,CACTE,IAAK,GACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,IAERzC,EACGG,OAAO,iBACPC,KAAK,QAAS,gBACdA,KAAK,QAAS+B,OACd/B,KAAK,SAAU,KACfA,KAAK,IAAK,IACVA,KAAK,IAAK,GACVD,OAAO,cACPnB,MAAM,OAAQ,yBACd8F,KACC,6vBAGN9E,EACGG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,IAAK+B,MAAQ,IAClB/B,KAAK,IAAK,IACVA,KAAK,cAAe,UACpByD,KAAK,QACLlC,GAAG,SAAS,WACX1B,GAAGmB,UAAU,WAAWS,SACxB9B,OA7JAgF,MAiKNpH,OAAOC,iBAAiB,oBAAoB,WAClCE,SAASC,eAAe,SAC9BgB,QAAU,WACVgB","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import \"./styles/index.scss\";\nimport \"./hydro.js\";\nimport \"./wind.js\";\nimport \"./solar.js\";\nimport \"./thermo.js\";\n\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n   let modal = document.getElementById(\"myModal\");\n   let hydroModal = document.getElementById(\"hydroModal\");\n   let thermoModal = document.getElementById(\"thermoModal\");\n   let solarModal = document.getElementById(\"solarModal\");\n   let sound = document.getElementsByClassName(\"audio\");\n\n   let btn = document.getElementById(\"myBtn\");\n   let hbtn = document.getElementById(\"hBtn\");\n   let tbtn = document.getElementById(\"tBtn\");\n   let sbtn = document.getElementById(\"sBtn\");\n   let wbtn = document.getElementById(\"wBtn\");\n\n   let span = document.getElementsByClassName(\"close\")[0];\n   let spanW = document.getElementsByClassName(\"close\")[1];\n   let spanS = document.getElementsByClassName(\"close\")[2];\n   let spanT = document.getElementsByClassName(\"close\")[3];\n   let spanH = document.getElementsByClassName(\"close\")[4];\n\n    btn.onclick = function () {\n        modal.style.display = \"block\";\n        sound[0].currentTime = 0;\n        sound[0].play();\n\n    }\n\n    hbtn.onclick = function () {\n        hydroModal.style.display = \"block\";\n    }\n\n    tbtn.onclick = function () {\n        thermoModal.style.display = \"block\";\n    }\n\n    sbtn.onclick = function () {\n        solarModal.style.display = \"block\";\n    }\n\n    wbtn.onclick = function () {\n        windModal.style.display = \"block\";\n    }\n\n    span.onclick = function () {\n        modal.style.display = \"none\";\n    }\n\n    spanH.onclick = function () {\n        hydroModal.style.display = \"none\";\n        window.location.reload()\n    }\n\n    spanT.onclick = function () {\n        thermoModal.style.display = \"none\";\n         window.location.reload();\n    }\n\n    spanS.onclick = function () {\n        solarModal.style.display = \"none\";\n         window.location.reload();\n    }\n\n    spanW.onclick = function () {\n        windModal.style.display = \"none\";\n         window.location.reload();\n    }\n\n    window.onclick = function (event) {\n        if (event.target == modal || event.target == hydroModal || event.target === thermoModal || event.target === solarModal || event.target === windModal) {\n            event.target.style.display = \"none\";\n             window.location.reload();\n        }\n       \n    }\n  });\n\n\n","const sample = [\n  {\n    country: \"Russia\",\n    value: 19.95,\n    color: \"#000000\",\n    prodH: [12, 15, 18, 9, 16.0],\n    dataset: [\n      { date: 1993, value: 2 },\n      { date: 1998, value: 3 },\n      { date: 2003, value: 8 },\n      { date: 2005, value: 17 },\n      { date: 2009, value: 12 },\n      { date: 2014, value: 17 },\n      { date: 2019, value: 19.95 },\n    ],\n  },\n  {\n    country: \"Canada\",\n    value: 61.3,\n    color: \"#00a2ee\",\n    prodH: [45, 32, 58, 65, 60],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 0 },\n      { date: 2003, value: 8 },\n      { date: 2005, value: 30 },\n      { date: 2009, value: 45 },\n      { date: 2014, value: 42 },\n      { date: 2019, value: 61.3 },\n    ],\n  },\n  {\n    country: \"China\",\n    value: 20.0,\n    color: \"#fbcb39\",\n    prodH: [8, 11, 15, 18, 20],\n    dataset: [\n      { date: 1993, value: 3 },\n      { date: 1998, value: 4 },\n      { date: 2003, value: 7 },\n      { date: 2005, value: 26 },\n      { date: 2009, value: 11 },\n      { date: 2014, value: 16 },\n      { date: 2019, value: 20 },\n    ],\n  },\n  {\n    country: \"United States\",\n    value: 6.6,\n    color: \"#007bc8\",\n    prodH: [1, 3, 5, 10, 7],\n    dataset: [\n      { date: 1993, value: 2 },\n      { date: 1998, value: 3 },\n      { date: 2003, value: 5 },\n      { date: 2005, value: 10 },\n      { date: 2009, value: 15 },\n      { date: 2014, value: 12 },\n      { date: 2019, value: 6.6 },\n    ],\n  },\n  {\n    country: \"Brazil\",\n    value: 65.0,\n    color: \"#65cedb\",\n    prodH: [40, 48, 32, 55, 70],\n    dataset: [\n      { date: 1993, value: 16 },\n      { date: 1998, value: 20 },\n      { date: 2003, value: 36 },\n      { date: 2005, value: 50 },\n      { date: 2009, value: 29 },\n      { date: 2014, value: 46 },\n      { date: 2019, value: 65 },\n    ],\n  },\n  {\n    country: \"Australia\",\n    value: 5,\n    color: \"#ff6e52\",\n    prodH: [1, 3, 5, 10, 7],\n    dataset: [\n      { date: 1993, value: 6 },\n      { date: 1998, value: 5 },\n      { date: 2003, value: 6 },\n      { date: 2005, value: 9 },\n      { date: 2009, value: 2 },\n      { date: 2014, value: 3 },\n      { date: 2019, value: 5 },\n    ],\n  },\n  {\n    country: \"India\",\n    value: 26.0,\n    color: \"#f9de3f\",\n    prodH: [8, 11, 15, 18, 26],\n    dataset: [\n      { date: 1993, value: 1 },\n      { date: 1998, value: 2 },\n      { date: 2003, value: 9 },\n      { date: 2005, value: 15 },\n      { date: 2009, value: 11 },\n      { date: 2014, value: 19 },\n      { date: 2019, value: 26 },\n    ],\n  },\n  {\n    country: \"Argentina\",\n    value: 36,\n    color: \"#5d2f8e\",\n    prodH: [1, 3, 5, 10, 7.3],\n    dataset: [\n      { date: 1993, value: 5 },\n      { date: 1998, value: 3 },\n      { date: 2003, value: 8 },\n      { date: 2005, value: 20 },\n      { date: 2009, value: 27 },\n      { date: 2014, value: 23 },\n      { date: 2019, value: 36 },\n    ],\n  },\n  {\n    country: \"Kazakhstan\",\n    value: 13.0,\n    color: \"#008fc9\",\n    prodH: [12, 15, 18, 9, 16.0],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 0 },\n      { date: 2003, value: 0 },\n      { date: 2005, value: 5 },\n      { date: 2009, value: 9 },\n      { date: 2014, value: 18 },\n      { date: 2019, value: 13 },\n    ],\n  },\n];\n\nconst years = [2000,2005, 2010, 2015, 2020]\n\n\nfunction level1() {\n\nconst svgContainer = d3.select(\"#container\");\nconst svg = svgContainer.append(\"svg\").attr(\"class\", \"chart\");\n\nconst margin = 80;\nconst width = 1000 - 2 * margin;\nconst height = 600 - 2 * margin;\n\nconst chart = svg\n  .append(\"g\")\n  .attr(\"transform\", `translate(${margin}, ${margin})`);\n\nconst xScale = d3\n  .scaleBand()\n  .range([0, width])\n  .domain(sample.map((s) => s.country))\n  .padding(0.4);\n\nconst yScale = d3.scaleLinear().range([height, 0]).domain([0, 70]);\n\nconst makeYLines = () => d3.axisLeft().scale(yScale);\n\nchart\n  .append(\"g\")\n  .attr(\"transform\", `translate(0, ${height})`)\n  .call(d3.axisBottom(xScale));\n\nchart.append(\"g\").call(d3.axisLeft(yScale));\n\nchart\n  .append(\"g\")\n  .attr(\"class\", \"grid\")\n  .call(makeYLines().tickSize(-width, 0, 0).tickFormat(\"\"));\n\nconst barGroups = chart.selectAll().data(sample).enter().append(\"g\");\n\nbarGroups\n  .append(\"rect\")\n  .attr(\"class\", \"bar\")\n  .attr(\"x\",  d => { return xScale(d.country); })\n  .attr(\"width\", xScale.bandwidth())\n  .attr(\"height\", 0).transition().duration(500).delay(function (d, i) {return i * 50;})\n  .attr(\"y\",  d => { return yScale(d.value); })\n  .attr(\"height\",  d => { return height - yScale(d.value); })\n\nd3.selectAll(\".bar\")\n  .on(\"click\", function(actual, i) {\n    d3.selectAll(\".chart\").remove();\n    level2(actual);\n\n  })\n  .on(\"mouseenter\", function (actual, i)\n    {\n   \n\n    d3.selectAll(\".value\").attr(\"opacity\", 0);\n\n    d3.select(this)\n      .transition()\n      .duration(300)\n      .attr(\"opacity\", 0.6)\n      .attr(\"x\", (a) => xScale(a.country) - 5)\n      .attr(\"width\", xScale.bandwidth() + 10);\n\n    const y = yScale(actual.value);\n\n    const line = chart\n      .append(\"line\")\n      .attr(\"id\", \"limit\")\n      .attr(\"x1\", 0)\n      .attr(\"y1\", y)\n      .attr(\"x2\", width)\n      .attr(\"y2\", y);\n\n    barGroups\n      .append(\"text\")\n      .attr(\"class\", \"divergence\")\n      .attr(\"x\", (a) => xScale(a.country) + xScale.bandwidth() / 2)\n      .attr(\"y\", (a) => yScale(a.value) - 10)\n \n      .attr(\"text-anchor\", \"middle\")\n      .text((a, idx) => {\n        const divergence = (a.value - actual.value).toFixed(1);\n\n        let text = \"\";\n        if (divergence > 0) text += \"+\";\n        text += `${divergence}%`;\n\n        return idx !== i\n          ? text\n          : `${actual.country}, ${actual.value}%`;\n      });\n    \n  })\n  .on(\"mouseleave\", function () {\n    d3.selectAll(\".value\").attr(\"opacity\", 1);\n\n    d3.select(this)\n      .transition()\n      .duration(300)\n      .attr(\"opacity\", 1)\n      .attr(\"x\", (a) => xScale(a.country))\n      .attr(\"width\", xScale.bandwidth());\n\n    chart.selectAll(\"#limit\").remove();\n    chart.selectAll(\".divergence\").remove();\n  });\n\n\n\nlet text = barGroups\n  .append(\"text\")\n  .attr(\"class\", \"value\")\n  .attr(\"x\", (a) => xScale(a.country) + xScale.bandwidth() / 2)\n  .attr(\"y\", (a) => yScale(a.value) - 5)\n  .attr(\"y\",  d => { return height ; })\n  .attr(\"height\", 0)\n  .transition()\n  .duration(500)\n  .delay(function (d, i) {\n    return i * 50;\n  })\n  .attr(\"y\", (d) => {\n    return yScale(d.value) - 20;\n  })\n  .attr(\"height\", (d) => {\n    return height - yScale(d.value);\n  })\n  .attr(\"height\", (a) => a.value)\n  .attr(\"text-anchor\", \"middle\")\n  .text(0);\n\n\n  text\n    .transition()\n    .tween(\"text\", function () {\n      var selection = d3.select(this); \n      var start = d3.select(this).text(); \n      var end = this.getAttribute(\"height\"); \n      var interpolator = d3.interpolateNumber(start, end); \n      return function (t) {\n        selection.text(Math.round(interpolator(t)));\n      }; \n    })\n    .duration(3000); \n\nsvg\n  .append(\"text\")\n  .attr(\"class\", \"label\")\n  .attr(\"x\", -(height / 2) - margin)\n  .attr(\"y\", margin / 2.4)\n  .attr(\"transform\", \"rotate(-90)\")\n  .attr(\"text-anchor\", \"middle\")\n  .text(\"Out of total electricity genration (%)\");\n\nsvg\n  .append(\"text\")\n  .attr(\"class\", \"title\")\n  .attr(\"x\", width / 2 + margin)\n  .attr(\"y\", 40)\n  .attr(\"text-anchor\", \"middle\")\n  .text(\"Electricity generation by hydropower in 2019\");\n\nsvg\n  .append(\"text\")\n  .attr(\"class\", \"back2\")\n  .attr(\"x\", width / 10)\n  .attr(\"y\", 40)\n  .attr(\"text-anchor\", \"middle\")\n  .text(\"Click to find out more\")\n  .on(\"click\", function (actual, i) {\n    d3.selectAll(\".chart\").remove();\n    level3();\n  });\n}\n\nfunction level2(actual) {\n    const lineData = actual.dataset\n    console.log(lineData)\n    const margin = 80;\n\n\n    const svgContainer = d3.select(\"#container\");\n    const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart\")\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"id\", \"visualisation\")\n      .attr(\"transform\", `translate(${margin/2}, ${margin})`);\n\n    var vis = d3.select(\"#visualisation\"),\n      MARGINS = 80,\n      WIDTH = 1000 - 2 * MARGINS,\n      HEIGHT = 600 - 2 * MARGINS,\n      MARGINS = {\n        top: 20,\n        right: 20,\n        bottom: 20,\n        left: 50,\n      },\n\n      xRange = d3\n      .scaleLinear()\n      .range([0, WIDTH])\n      .domain(d3.extent(lineData, dataPoint => dataPoint.date)),\n      yRange = d3\n        .scaleLinear()\n        .range([HEIGHT - MARGINS.top, MARGINS.bottom])\n        .domain([\n          0,\n          d3.max(lineData, function (d) {\n            return d.value;\n          }),\n        ]),\n      xAxis = d3.axisBottom().scale(xRange),\n      yAxis = d3.axisLeft().scale(yRange);\n\n      const makeYLines = () => d3.axisLeft().scale(yRange);\n\n      chart\n        .append(\"g\")\n        .attr(\"class\", \"grid\")\n        .attr(\"transform\", \"translate(\" + MARGINS.left  + \",0)\")\n        .call(makeYLines().tickSize(-WIDTH, 0, 0).tickFormat(\"\"));\n\n\n    vis\n      .append(\"svg:g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(\"+MARGINS.left +\",\" + (HEIGHT - MARGINS.bottom) + \")\")\n      .call(xAxis);\n\n    vis\n      .append(\"svg:g\")\n      .attr(\"class\", \"y axis\")\n      .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\")\n      .call(yAxis);\n\n    var lineFunc = d3\n      .line()\n      .x(function (d) {\n        return xRange(d.date);\n      })\n      .y(function (d) {\n        return yRange(d.value);\n      })\n      .curve(d3.curveBasis);\n    \n\n    const path = vis\n      .append(\"svg:path\")\n      .attr(\"class\", \"path\")\n      .attr(\"d\", lineFunc(lineData))\n      .attr(\"stroke\", \"blue\")\n      .attr(\"stroke-width\", 2)\n      .attr(\"fill\", \"none\")\n      .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\");\n\n    let totalLength = path.node().getTotalLength();\n\n    path\n      .attr(\"stroke-dasharray\", totalLength + \" \" + totalLength)\n      .attr(\"stroke-dashoffset\", totalLength)\n      .transition()\n      .duration(4000)\n      .ease(d3.easeLinear)\n      .attr(\"stroke-dashoffset\", 0); \n\n\n      svg\n      .append(\"text\")\n      .attr(\"class\", \"title\")\n      .attr(\"x\", WIDTH / 2 + 80)\n      .attr(\"y\", 40)\n      .attr(\"text-anchor\", \"middle\")\n      .text(`Hydro power usage in ${actual.country} throughout the years`);\n\n    svg\n      .append(\"text\")\n      .attr(\"class\", \"label\")\n      .attr(\"x\", -(HEIGHT / 2) - 80)\n      .attr(\"y\", 80/ 2.4)\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"text-anchor\", \"middle\")\n      .text(\"Out of total electricity genration (%)\");\n\n    svg\n      .append(\"text\")\n      .attr(\"class\", \"back2\")\n      .attr(\"x\", WIDTH / 10)\n      .attr(\"y\", 40)\n      .attr(\"text-anchor\", \"middle\")\n      .text(\"Back\")\n      .on(\"click\", function (actual, i) {\n        d3.selectAll(\".chart\").remove();\n        level1();\n      });\n}\n\nfunction level3() {\n  const svgContainer = d3.select(\"#container\");\n  const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart\");\n  (MARGINS = 80),\n    (WIDTH = 1000 - 2 * MARGINS),\n    (HEIGHT = 600 - 2 * MARGINS),\n    (MARGINS = {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 50,\n    }),\n    svg\n      .append(\"foreignObject\")\n      .attr(\"class\", \"graph-title\")\n      .attr(\"width\", WIDTH)\n      .attr(\"height\", 600)\n      .attr(\"x\", 50)\n      .attr(\"y\", 0)\n      .append(\"xhtml:body\")\n      .style(\"font\", \"14px 'Helvetica Neue'\")\n      .html(\n        \"<h1>Hydroelectricity</h1><div><div><p>Hydroenergy is a renewable type of energy that uses flowing water to power a turbine to produce electrical energy</p><p>To generate electricity, water must be in motion. This is kinetic (moving) energy. When flowing water turns blades in a turbine, the form is changed to mechanical (machine) energy. The turbine turns the generator rotor which then converts this mechanical energy into another energy form -- electricity. Since water is the initial source of energy, we call this hydroelectric power or hydropower for short. </p></div><div class='graph-div'></div></div>\");\n    \n    svg\n      .append(\"text\")\n      .attr(\"class\", \"back2\")\n      .attr(\"x\", WIDTH / 10)\n      .attr(\"y\", 50)\n      .attr(\"text-anchor\", \"middle\")\n      .text(\"Back\")\n      .on(\"click\", function () {\n        d3.selectAll(\".chart\").remove();\n        level1();\n      });\n\n\n\n\n}\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n   let h = document.getElementById(\"what1\");\n  h.onclick = function () {\n    level1();\n  };\n});\n","const sample = [\n  {\n    country: \"Russia\",\n    value: 1,\n    color: \"#000000\",\n    prodH: [12, 15, 18, 9, 16.0],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 0 },\n      { date: 2003, value: 0 },\n      { date: 2005, value: 0.3 },\n      { date: 2009, value: 2 },\n      { date: 2014, value: 0.05 },\n      { date: 2019, value: 0.1 },\n    ],\n  },\n  {\n    country: \"Canada\",\n    value: 2.9,\n    color: \"#00a2ee\",\n    prodH: [45, 32, 58, 65, 60],\n    dataset: [\n      { date: 1993, value: 1 },\n      { date: 1998, value: 1 },\n      { date: 2003, value: 1 },\n      { date: 2005, value: 1.5 },\n      { date: 2009, value: 2.5 },\n      { date: 2014, value: 2 },\n      { date: 2019, value: 2.9 },\n    ],\n  },\n  {\n    country: \"China\",\n    value: 6.3,\n    color: \"#fbcb39\",\n    prodH: [8, 11, 15, 18, 20],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 0.5 },\n      { date: 2003, value: 0.8 },\n      { date: 2005, value: 1 },\n      { date: 2009, value: 3 },\n      { date: 2014, value: 4.2 },\n      { date: 2019, value: 6.33 },\n    ],\n  },\n  {\n    country: \"United States\",\n    value: 7.3,\n    color: \"#007bc8\",\n    prodH: [1, 3, 5, 10, 7],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 2 },\n      { date: 2003, value: 3 },\n      { date: 2005, value: 5.5 },\n      { date: 2009, value: 5.8 },\n      { date: 2014, value: 7 },\n      { date: 2019, value: 7.3 },\n    ],\n  },\n  {\n    country: \"Brazil\",\n    value: 2.8,\n    color: \"#65cedb\",\n    prodH: [40, 48, 32, 55, 70],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 2 },\n      { date: 2003, value: 3 },\n      { date: 2005, value: 5.5 },\n      { date: 2009, value: 5.8 },\n      { date: 2014, value: 4 },\n      { date: 2019, value: 2.8 },\n    ],\n  },\n  {\n    country: \"Australia\",\n    value: 7,\n    color: \"#ff6e52\",\n    prodH: [1, 3, 5, 10, 7],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 2 },\n      { date: 2003, value: 3 },\n      { date: 2005, value: 5.5 },\n      { date: 2009, value: 5.8 },\n      { date: 2014, value: 7 },\n      { date: 2019, value: 7 },\n    ],\n  },\n  {\n    country: \"India\",\n    value: 4.6,\n    color: \"#f9de3f\",\n    prodH: [8, 11, 15, 18, 26],\n    dataset: [\n      { date: 1993, value: 1 },\n      { date: 1998, value: 1 },\n      { date: 2003, value: 1 },\n      { date: 2005, value: 2.8 },\n      { date: 2009, value: 5 },\n      { date: 2014, value: 3 },\n      { date: 2019, value: 4.6 },\n    ],\n  },\n  {\n    country: \"Argentina\",\n    value: 1,\n    color: \"#5d2f8e\",\n    prodH: [1, 3, 5, 10, 7.3],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 0 },\n      { date: 2003, value: 0 },\n      { date: 2005, value: 0.5 },\n      { date: 2009, value: 0.5 },\n      { date: 2014, value: 0.8 },\n      { date: 2019, value: 1 },\n    ],\n  },\n  {\n    country: \"Kazakhstan\",\n    value: 3.2,\n    color: \"#008fc9\",\n    prodH: [12, 15, 18, 9, 16.0],\n    dataset: [\n      { date: 1993, value: 1 },\n      { date: 1998, value: 1 },\n      { date: 2003, value: 1 },\n      { date: 2005, value: 1.5 },\n      { date: 2009, value: 2.5 },\n      { date: 2014, value: 2 },\n      { date: 2019, value: 3.2 },\n    ],\n  },\n];\n\nconst years = [2000, 2005, 2010, 2015, 2020];\n\nfunction level1() {\n  const svgContainer = d3.select(\"#container1\");\n  const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart1\");\n\n  const margin = 80;\n  const width = 1000 - 2 * margin;\n  const height = 600 - 2 * margin;\n\n  const chart = svg\n    .append(\"g\")\n    .attr(\"transform\", `translate(${margin}, ${margin})`);\n\n  const xScale = d3\n    .scaleBand()\n    .range([0, width])\n    .domain(sample.map((s) => s.country))\n    .padding(0.4);\n\n  const yScale = d3.scaleLinear().range([height, 0]).domain([0, 10]);\n\n  const makeYLines = () => d3.axisLeft().scale(yScale);\n\n  chart\n    .append(\"g\")\n    .attr(\"transform\", `translate(0, ${height})`)\n    .call(d3.axisBottom(xScale));\n\n  chart.append(\"g\").call(d3.axisLeft(yScale));\n\n  chart\n    .append(\"g\")\n    .attr(\"class\", \"grid\")\n    .call(makeYLines().tickSize(-width, 0, 0).tickFormat(\"\"));\n\n  const barGroups = chart.selectAll().data(sample).enter().append(\"g\");\n\n  barGroups\n    .append(\"rect\")\n    .attr(\"class\", \"bar1\")\n    .attr(\"x\", (d) => {\n      return xScale(d.country);\n    })\n    .attr(\"width\", xScale.bandwidth())\n    .attr(\"height\", 0)\n    .transition()\n    .duration(500)\n    .delay(function (d, i) {\n      return i * 50;\n    })\n    .attr(\"y\", (d) => {\n      return yScale(d.value);\n    })\n    .attr(\"height\", (d) => {\n      return height - yScale(d.value);\n    });\n\n  d3.selectAll(\".bar1\")\n    .on(\"click\", function (actual, i) {\n      d3.selectAll(\".chart1\").remove();\n      level2(actual);\n    })\n    .on(\"mouseenter\", function (actual, i) {\n      d3.selectAll(\".value\").attr(\"opacity\", 0);\n\n      d3.select(this)\n        .transition()\n        .duration(300)\n        .attr(\"opacity\", 0.6)\n        .attr(\"x\", (a) => xScale(a.country) - 5)\n        .attr(\"width\", xScale.bandwidth() + 10);\n\n      const y = yScale(actual.value);\n\n      const line = chart\n        .append(\"line\")\n        .attr(\"id\", \"limit\")\n        .attr(\"x1\", 0)\n        .attr(\"y1\", y)\n        .attr(\"x2\", width)\n        .attr(\"y2\", y);\n\n      barGroups\n        .append(\"text\")\n        .attr(\"class\", \"divergence\")\n        .attr(\"x\", (a) => xScale(a.country) + xScale.bandwidth() / 2)\n        .attr(\"y\", (a) => yScale(a.value) - 10)\n\n        .attr(\"text-anchor\", \"middle\")\n        .text((a, idx) => {\n          const divergence = (a.value - actual.value).toFixed(1);\n\n          let text = \"\";\n          if (divergence > 0) text += \"+\";\n          text += `${divergence}%`;\n\n          return idx !== i ? text : `${actual.country}, ${actual.value}%`;\n        });\n    })\n    .on(\"mouseleave\", function () {\n      d3.selectAll(\".value\").attr(\"opacity\", 1);\n\n      d3.select(this)\n        .transition()\n        .duration(300)\n        .attr(\"opacity\", 1)\n        .attr(\"x\", (a) => xScale(a.country))\n        .attr(\"width\", xScale.bandwidth());\n\n      chart.selectAll(\"#limit\").remove();\n      chart.selectAll(\".divergence\").remove();\n    });\n\n  let text = barGroups\n    .append(\"text\")\n    .attr(\"class\", \"value\")\n    .attr(\"x\", (a) => xScale(a.country) + xScale.bandwidth() / 2)\n    .attr(\"y\", (a) => yScale(a.value) - 5)\n    .attr(\"y\", (d) => {\n      return height;\n    })\n    .attr(\"height\", 0)\n    .transition()\n    .duration(300)\n    .delay(function (d, i) {\n      return i * 50;\n    })\n    .attr(\"y\", (d) => {\n      return yScale(d.value) - 20;\n    })\n    .attr(\"height\", (d) => {\n      return height - yScale(d.value);\n    })\n    .attr(\"height\", (a) => a.value)\n    .attr(\"text-anchor\", \"middle\")\n    .text(0);\n\n\n  text\n    .transition()\n    .tween(\"text\", function () {\n      var selection = d3.select(this);\n      var start = d3.select(this).text();\n      var end = this.getAttribute(\"height\");\n      var interpolator = d3.interpolateNumber(end, end);\n\n      return function (t) {\n        selection.text(Math.round(interpolator(t)));\n      }; \n    })\n    .duration(3000);\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"label\")\n    .attr(\"x\", -(height / 2) - margin)\n    .attr(\"y\", margin / 2.4)\n    .attr(\"transform\", \"rotate(-90)\")\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Out of total electricity genration (%)\");\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"title\")\n    .attr(\"x\", width / 2 + margin)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Electricity generation by wind power in 2019\");\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"back2\")\n    .attr(\"x\", width / 10)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Click to find out more\")\n    .on(\"click\", function (actual, i) {\n      d3.selectAll(\".chart1\").remove();\n      level3();\n    });\n}\n\nfunction level2(actual) {\n  const lineData = actual.dataset;\n  console.log(lineData);\n  const margin = 80;\n\n  const svgContainer = d3.select(\"#container1\");\n  const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart1\");\n\n  const chart = svg\n    .append(\"g\")\n    .attr(\"id\", \"visualisation\")\n    .attr(\"transform\", `translate(${margin / 2}, ${margin})`);\n\n  var vis = d3.select(\"#visualisation\"),\n    MARGINS = 80,\n    WIDTH = 1000 - 2 * MARGINS,\n    HEIGHT = 600 - 2 * MARGINS,\n    MARGINS = {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 50,\n    },\n    xRange = d3\n      .scaleLinear()\n      .range([0, WIDTH])\n      .domain(d3.extent(lineData, (dataPoint) => dataPoint.date)),\n    yRange = d3\n      .scaleLinear()\n      .range([HEIGHT - MARGINS.top, MARGINS.bottom])\n      .domain([\n        0,\n        d3.max(lineData, function (d) {\n          return d.value;\n        }),\n      ]),\n    xAxis = d3.axisBottom().scale(xRange),\n    yAxis = d3.axisLeft().scale(yRange);\n\n  const makeYLines = () => d3.axisLeft().scale(yRange);\n\n  chart\n    .append(\"g\")\n    .attr(\"class\", \"grid\")\n    .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\")\n    .call(makeYLines().tickSize(-WIDTH, 0, 0).tickFormat(\"\"));\n\n  vis\n    .append(\"svg:g\")\n    .attr(\"class\", \"x axis\")\n    .attr(\n      \"transform\",\n      \"translate(\" + MARGINS.left + \",\" + (HEIGHT - MARGINS.bottom) + \")\"\n    )\n    .call(xAxis);\n\n  vis\n    .append(\"svg:g\")\n    .attr(\"class\", \"y axis\")\n    .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\")\n    .call(yAxis);\n\n  var lineFunc = d3\n    .line()\n    .x(function (d) {\n      return xRange(d.date);\n    })\n    .y(function (d) {\n      return yRange(d.value);\n    })\n    .curve(d3.curveBasis);\n\n  const path = vis\n    .append(\"svg:path\")\n    .attr(\"class\", \"path1\")\n    .attr(\"d\", lineFunc(lineData))\n    .attr(\"stroke\", \"blue\")\n    .attr(\"stroke-width\", 2)\n    .attr(\"fill\", \"none\")\n    .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\");\n\n  let totalLength = path.node().getTotalLength();\n\n  path\n    .attr(\"stroke-dasharray\", totalLength + \" \" + totalLength)\n    .attr(\"stroke-dashoffset\", totalLength)\n    .transition()\n    .duration(4000)\n    .ease(d3.easeLinear)\n    .attr(\"stroke-dashoffset\", 0);\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"title\")\n    .attr(\"x\", WIDTH / 2 + 80)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(`Wind power usage in ${actual.country} throughout the years`);\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"label\")\n    .attr(\"x\", -(HEIGHT / 2) - 80)\n    .attr(\"y\", 80 / 2.4)\n    .attr(\"transform\", \"rotate(-90)\")\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Out of total electricity genration (%)\");\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"back3\")\n    .attr(\"x\", WIDTH / 10)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Back\")\n    .on(\"click\", function (actual, i) {\n      d3.selectAll(\".chart1\").remove();\n      level1();\n    });\n}\n\n  function level3() {\n    const svgContainer = d3.select(\"#container1\");\n    const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart1\");\n    (MARGINS = 80),\n      (WIDTH = 1000 - 2 * MARGINS),\n      (HEIGHT = 600 - 2 * MARGINS),\n      (MARGINS = {\n        top: 20,\n        right: 20,\n        bottom: 20,\n        left: 50,\n      }),\n      svg\n        .append(\"text\")\n        .attr(\"class\", \"back4\")\n        .attr(\"x\", WIDTH / 10)\n        .attr(\"y\", 650)\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"Back\")\n        .on(\"click\", function () {\n          d3.selectAll(\".chart1\").remove();\n          level1();\n        });\n\n      svg\n        .append(\"foreignObject\")\n        .attr(\"class\", \"graph-title1\")\n        .attr(\"width\", WIDTH)\n        .attr(\"height\", 600)\n        .attr(\"x\", 50)\n        .attr(\"y\", 0)\n        .append(\"xhtml:body\")\n        .style(\"font\", \"14px 'Helvetica Neue'\")\n        .html(\n          \"<h1>Wind Power</h1><div><div><p>Wind power or wind energy is the use of wind to provide the mechanical power through wind turbines to turn electric generators and traditionally to do other work, like milling or pumping.</p><p>When the wind blows past a wind turbine, its blades capture the wind's kinetic energy and rotate, turning it into mechanical energy. This rotation turns an internal shaft connected to a gearbox, which increases the speed of rotation by a factor of 100. That spins a generator that produces electricity.<p> </p></div><div class='graph-div1'></div></div>\"\n        );\n\n   \n  }\n\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  let h = document.getElementById(\"what3\");\n  h.onclick = function () {\n    level1();\n  };\n});\n","const sample = [\n  {\n    country: \"Russia\",\n    value: 1,\n    color: \"#000000\",\n    prodH: [12, 15, 18, 9, 16.0],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 0 },\n      { date: 2003, value: 0 },\n      { date: 2005, value: 0.3 },\n      { date: 2009, value: 2 },\n      { date: 2014, value: 0.05 },\n      { date: 2019, value: 0.4 },\n    ],\n  },\n  {\n    country: \"Canada\",\n    value: 5.2,\n    color: \"#00a2ee\",\n    prodH: [45, 32, 58, 65, 60],\n    dataset: [\n      { date: 1993, value: 1 },\n      { date: 1998, value: 1 },\n      { date: 2003, value: 1 },\n      { date: 2005, value: 2.8 },\n      { date: 2009, value: 5 },\n      { date: 2014, value: 3 },\n      { date: 2019, value: 5.2 },\n    ],\n  },\n  {\n    country: \"China\",\n    value: 2.5,\n    color: \"#fbcb39\",\n    prodH: [8, 11, 15, 18, 20],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 0.5 },\n      { date: 2003, value: 0.8 },\n      { date: 2005, value: 1 },\n      { date: 2009, value: 3 },\n      { date: 2014, value: 4.2 },\n      { date: 2019, value: 2.5 },\n    ],\n  },\n  {\n    country: \"United States\",\n    value: 1.8,\n    color: \"#007bc8\",\n    prodH: [1, 3, 5, 10, 7],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 2 },\n      { date: 2003, value: 1 },\n      { date: 2005, value: 5 },\n      { date: 2009, value: 2 },\n      { date: 2014, value: 4 },\n      { date: 2019, value: 1.8 },\n    ],\n  },\n  {\n    country: \"Brazil\",\n    value: 7.2,\n    color: \"#65cedb\",\n    prodH: [40, 48, 32, 55, 70],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 2 },\n      { date: 2003, value: 3 },\n      { date: 2005, value: 5.5 },\n      { date: 2009, value: 5.8 },\n      { date: 2014, value: 7 },\n      { date: 2019, value: 7.2 },\n    ],\n  },\n  {\n    country: \"Australia\",\n    value: 7,\n    color: \"#ff6e52\",\n    prodH: [1, 3, 5, 10, 7],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 2 },\n      { date: 2003, value: 3 },\n      { date: 2005, value: 5.5 },\n      { date: 2009, value: 5.8 },\n      { date: 2014, value: 7 },\n      { date: 2019, value: 7 },\n    ],\n  },\n  {\n    country: \"India\",\n    value: 8.3,\n    color: \"#f9de3f\",\n    prodH: [8, 11, 15, 18, 26],\n    dataset: [\n      { date: 1993, value: 1 },\n      { date: 1998, value: 2.9 },\n      { date: 2003, value: 3.8 },\n      { date: 2005, value: 6 },\n      { date: 2009, value: 5.8 },\n      { date: 2014, value: 7 },\n      { date: 2019, value: 8.3 },\n    ],\n  },\n  {\n    country: \"Argentina\",\n    value: 1,\n    color: \"#5d2f8e\",\n    prodH: [1, 3, 5, 10, 7.3],\n    dataset: [\n      { date: 1993, value: 0 },\n      { date: 1998, value: 0 },\n      { date: 2003, value: 0 },\n      { date: 2005, value: 0.5 },\n      { date: 2009, value: 0.5 },\n      { date: 2014, value: 0.8 },\n      { date: 2019, value: 1 },\n    ],\n  },\n  {\n    country: \"Kazakhstan\",\n    value: 2.5,\n    color: \"#008fc9\",\n    prodH: [12, 15, 18, 9, 16.0],\n    dataset: [\n      { date: 1993, value: 1 },\n      { date: 1998, value: 1 },\n      { date: 2003, value: 1 },\n      { date: 2005, value: 1.5 },\n      { date: 2009, value: 2.5 },\n      { date: 2014, value: 2 },\n      { date: 2019, value: 2.5 },\n    ],\n  },\n];\n\nconst years = [2000, 2005, 2010, 2015, 2020];\n\nfunction level1() {\n  const svgContainer = d3.select(\"#container2\");\n  const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart2\");\n\n  const margin = 80;\n  const width = 1000 - 2 * margin;\n  const height = 600 - 2 * margin;\n\n  const chart = svg\n    .append(\"g\")\n    .attr(\"transform\", `translate(${margin}, ${margin})`);\n\n  const xScale = d3\n    .scaleBand()\n    .range([0, width])\n    .domain(sample.map((s) => s.country))\n    .padding(0.4);\n\n  const yScale = d3.scaleLinear().range([height, 0]).domain([0, 10]);\n\n  const makeYLines = () => d3.axisLeft().scale(yScale);\n\n  chart\n    .append(\"g\")\n    .attr(\"transform\", `translate(0, ${height})`)\n    .call(d3.axisBottom(xScale));\n\n  chart.append(\"g\").call(d3.axisLeft(yScale));\n\n  chart\n    .append(\"g\")\n    .attr(\"class\", \"grid\")\n    .call(makeYLines().tickSize(-width, 0, 0).tickFormat(\"\"));\n\n  const barGroups = chart.selectAll().data(sample).enter().append(\"g\");\n\n  barGroups\n    .append(\"rect\")\n    .attr(\"class\", \"bar2\")\n    .attr(\"x\", (d) => {\n      return xScale(d.country);\n    })\n    .attr(\"width\", xScale.bandwidth())\n    .attr(\"y\",  d => { return height; })\n    .attr(\"height\", 0)\n    .transition()\n    .duration(500)\n    .delay(function (d, i) {\n      return i * 50;\n    })\n    .attr(\"y\", (d) => {\n      return yScale(d.value);\n    })\n    .attr(\"height\", (d) => {\n      return height - yScale(d.value);\n    });\n\n  d3.selectAll(\".bar2\")\n    .on(\"click\", function (actual, i) {\n      d3.selectAll(\".chart2\").remove();\n      level2(actual);\n    })\n    .on(\"mouseenter\", function (actual, i) {\n      d3.selectAll(\".value\").attr(\"opacity\", 0);\n\n      d3.select(this)\n        .transition()\n        .duration(300)\n        .attr(\"opacity\", 0.6)\n        .attr(\"x\", (a) => xScale(a.country) - 5)\n        .attr(\"width\", xScale.bandwidth() + 10);\n\n      const y = yScale(actual.value);\n\n      const line = chart\n        .append(\"line\")\n        .attr(\"id\", \"limit\")\n        .attr(\"x1\", 0)\n        .attr(\"y1\", y)\n        .attr(\"x2\", width)\n        .attr(\"y2\", y);\n\n      barGroups\n        .append(\"text\")\n        .attr(\"class\", \"divergence\")\n        .attr(\"x\", (a) => xScale(a.country) + xScale.bandwidth() / 2)\n        .attr(\"y\", (a) => yScale(a.value) - 10)\n\n        .attr(\"text-anchor\", \"middle\")\n        .text((a, idx) => {\n          const divergence = (a.value - actual.value).toFixed(1);\n\n          let text = \"\";\n          if (divergence > 0) text += \"+\";\n          text += `${divergence}%`;\n\n          return idx !== i ? text : `${actual.country}, ${actual.value}%`;\n        });\n    })\n    .on(\"mouseleave\", function () {\n      d3.selectAll(\".value\").attr(\"opacity\", 1);\n\n      d3.select(this)\n        .transition()\n        .duration(300)\n        .attr(\"opacity\", 1)\n        .attr(\"x\", (a) => xScale(a.country))\n        .attr(\"width\", xScale.bandwidth());\n\n      chart.selectAll(\"#limit\").remove();\n      chart.selectAll(\".divergence\").remove();\n    });\n\n  let text = barGroups\n    .append(\"text\")\n    .attr(\"class\", \"value\")\n    .attr(\"x\", (a) => xScale(a.country) + xScale.bandwidth() / 2)\n    .attr(\"y\", (a) => yScale(a.value) - 5)\n    .attr(\"y\", (d) => {\n      return height;\n    })\n    .attr(\"height\", 0)\n    .transition()\n    .duration(300)\n    .delay(function (d, i) {\n      return i * 50;\n    })\n    .attr(\"y\", (d) => {\n      return yScale(d.value) - 20;\n    })\n    .attr(\"height\", (d) => {\n      return height - yScale(d.value);\n    })\n    .attr(\"height\", (a) => a.value)\n    .attr(\"text-anchor\", \"middle\")\n    .text(0);\n\n\n  text\n    .transition()\n    .tween(\"text\", function () {\n      var selection = d3.select(this);\n      var start = d3.select(this).text();\n      var end = this.getAttribute(\"height\"); \n      var interpolator = d3.interpolateNumber(end, end); \n\n      return function (t) {\n        selection.text(Math.round(interpolator(t)));\n      }; \n    })\n    .duration(3000);\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"label\")\n    .attr(\"x\", -(height / 2) - margin)\n    .attr(\"y\", margin / 2.4)\n    .attr(\"transform\", \"rotate(-90)\")\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Out of total electricity genration (%)\");\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"title\")\n    .attr(\"x\", width / 2 + margin)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Electricity generation by solar power in 2019\");\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"back2\")\n    .attr(\"x\", width / 10)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Click to find out more\")\n    .on(\"click\", function (actual, i) {\n      d3.selectAll(\".chart2\").remove();\n      level3();\n    });\n}\n\nfunction level2(actual) {\n  const lineData = actual.dataset;\n  console.log(lineData);\n  const margin = 80;\n\n  const svgContainer = d3.select(\"#container2\");\n  const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart2\");\n\n  const chart = svg\n    .append(\"g\")\n    .attr(\"id\", \"visualisation\")\n    .attr(\"transform\", `translate(${margin / 2}, ${margin})`);\n\n  var vis = d3.select(\"#visualisation\"),\n    MARGINS = 80,\n    WIDTH = 1000 - 2 * MARGINS,\n    HEIGHT = 600 - 2 * MARGINS,\n    MARGINS = {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 50,\n    },\n    xRange = d3\n      .scaleLinear()\n      .range([0, WIDTH])\n      .domain(d3.extent(lineData, (dataPoint) => dataPoint.date)),\n    yRange = d3\n      .scaleLinear()\n      .range([HEIGHT - MARGINS.top, MARGINS.bottom])\n      .domain([\n        0,\n        d3.max(lineData, function (d) {\n          return d.value;\n        }),\n      ]),\n    xAxis = d3.axisBottom().scale(xRange),\n    yAxis = d3.axisLeft().scale(yRange);\n\n  const makeYLines = () => d3.axisLeft().scale(yRange);\n\n  chart\n    .append(\"g\")\n    .attr(\"class\", \"grid\")\n    .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\")\n    .call(makeYLines().tickSize(-WIDTH, 0, 0).tickFormat(\"\"));\n\n  vis\n    .append(\"svg:g\")\n    .attr(\"class\", \"x axis\")\n    .attr(\n      \"transform\",\n      \"translate(\" + MARGINS.left + \",\" + (HEIGHT - MARGINS.bottom) + \")\"\n    )\n    .call(xAxis);\n\n  vis\n    .append(\"svg:g\")\n    .attr(\"class\", \"y axis\")\n    .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\")\n    .call(yAxis);\n\n  var lineFunc = d3\n    .line()\n    .x(function (d) {\n      return xRange(d.date);\n    })\n    .y(function (d) {\n      return yRange(d.value);\n    })\n    .curve(d3.curveBasis);\n\n  const path = vis\n    .append(\"svg:path\")\n    .attr(\"class\", \"path2\")\n    .attr(\"d\", lineFunc(lineData))\n    .attr(\"stroke\", \"blue\")\n    .attr(\"stroke-width\", 2)\n    .attr(\"fill\", \"none\")\n    .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\");\n\n  let totalLength = path.node().getTotalLength();\n\n  path\n    .attr(\"stroke-dasharray\", totalLength + \" \" + totalLength)\n    .attr(\"stroke-dashoffset\", totalLength)\n    .transition() \n    .duration(4000) \n    .ease(d3.easeLinear) \n    .attr(\"stroke-dashoffset\", 0); \n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"title\")\n    .attr(\"x\", WIDTH / 2 + 80)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(`Solar power usage in ${actual.country} throughout the years`);\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"label\")\n    .attr(\"x\", -(HEIGHT / 2) - 80)\n    .attr(\"y\", 80 / 2.4)\n    .attr(\"transform\", \"rotate(-90)\")\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Out of total electricity genration (%)\");\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"back3\")\n    .attr(\"x\", WIDTH / 10)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Back\")\n    .on(\"click\", function (actual, i) {\n      d3.selectAll(\".chart2\").remove();\n      level1();\n    });\n}\n\nfunction level3() {\n  const svgContainer = d3.select(\"#container2\");\n  const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart2\");\n  (MARGINS = 80),\n    (WIDTH = 1000 - 2 * MARGINS),\n    (HEIGHT = 600 - 2 * MARGINS),\n    (MARGINS = {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 50,\n    }),\n    svg\n      .append(\"foreignObject\")\n      .attr(\"class\", \"graph-title2\")\n      .attr(\"width\", WIDTH)\n      .attr(\"height\", 600)\n      .attr(\"x\", 50)\n      .attr(\"y\", 0)\n      .append(\"xhtml:body\")\n      .style(\"font\", \"14px 'Helvetica Neue'\")\n      .html(\n        \"<h1>Solar Power</h1><div><div><p>Solar power is the conversion of energy from sunlight into electricity, either directly using photovoltaics (PV), indirectly using concentrated solar power, or a combination.</p><p>Solar-powered photovoltaic (PV) panels convert the sun's rays into electricity by exciting electrons in silicon cells using the photons of light from the sun. This electricity can then be used to supply renewable energy to your home or business.In most solar systems, solar panels are placed on the roof. An ideal site will have no shade on the panels, especially during the prime sunlight hours of 9 a.m. to 3 p.m.; a south-facing installation will usually provide the optimum potential for your system, but other orientations may provide sufficient production. </p></div><div class='graph-div2'></div></div>\"\n      );\n    \n    svg\n      .append(\"text\")\n      .attr(\"class\", \"back4\")\n      .attr(\"x\", WIDTH / 10)\n      .attr(\"y\", 50)\n      .attr(\"text-anchor\", \"middle\")\n      .text(\"Back\")\n      .on(\"click\", function () {\n        d3.selectAll(\".chart2\").remove();\n        level1();\n      });\n}\n\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  let h = document.getElementById(\"what2\");\n  h.onclick = function () {\n    level1();\n  };\n});\n\n","const sample = [\n  {\n    country: \"Russia\",\n    value: 73.4,\n    color: \"#000000\",\n    prodH: [12, 15, 18, 9, 16.0],\n    dataset: [\n      { date: 1993, value: 90 },\n      { date: 1998, value: 88 },\n      { date: 2003, value: 80 },\n      { date: 2005, value: 80 },\n      { date: 2009, value: 75 },\n      { date: 2014, value: 68 },\n      { date: 2019, value: 73.4 },\n    ],\n  },\n  {\n    country: \"Canada\",\n    value: 34.2,\n    color: \"#00a2ee\",\n    prodH: [45, 32, 58, 65, 60],\n    dataset: [\n      { date: 1993, value: 80 },\n      { date: 1998, value: 75 },\n      { date: 2003, value: 70 },\n      { date: 2005, value: 64 },\n      { date: 2009, value: 52 },\n      { date: 2014, value: 41 },\n      { date: 2019, value: 34 },\n    ],\n  },\n  {\n    country: \"China\",\n    value: 72.1,\n    color: \"#fbcb39\",\n    prodH: [8, 11, 15, 18, 20],\n    dataset: [\n      { date: 1993, value: 98 },\n      { date: 1998, value: 84 },\n      { date: 2003, value: 93 },\n      { date: 2005, value: 80 },\n      { date: 2009, value: 70 },\n      { date: 2014, value: 60 },\n      { date: 2019, value: 72 },\n    ],\n  },\n  {\n    country: \"United States\",\n    value: 62.7,\n    color: \"#007bc8\",\n    prodH: [1, 3, 5, 10, 7],\n    dataset: [\n      { date: 1993, value: 90 },\n      { date: 1998, value: 88 },\n      { date: 2003, value: 75 },\n      { date: 2005, value: 88 },\n      { date: 2009, value: 73 },\n      { date: 2014, value: 70 },\n      { date: 2019, value: 62 },\n    ],\n  },\n  {\n    country: \"Brazil\",\n    value: 25,\n    color: \"#65cedb\",\n    prodH: [40, 48, 32, 55, 70],\n    dataset: [\n      { date: 1993, value: 60 },\n      { date: 1998, value: 50 },\n      { date: 2003, value: 40 },\n      { date: 2005, value: 39 },\n      { date: 2009, value: 35 },\n      { date: 2014, value: 20 },\n      { date: 2019, value: 25 },\n    ],\n  },\n  {\n    country: \"Australia\",\n    value: 75,\n    color: \"#ff6e52\",\n    prodH: [1, 3, 5, 10, 7],\n    dataset: [\n      { date: 1993, value: 90 },\n      { date: 1998, value: 88 },\n      { date: 2003, value: 75 },\n      { date: 2005, value: 88 },\n      { date: 2009, value: 73 },\n      { date: 2014, value: 70 },\n      { date: 2019, value: 75 },\n    ],\n  },\n  {\n    country: \"India\",\n    value: 72,\n    color: \"#f9de3f\",\n    prodH: [8, 11, 15, 18, 26],\n    dataset: [\n      { date: 1993, value: 90 },\n      { date: 1998, value: 88 },\n      { date: 2003, value: 75 },\n      { date: 2005, value: 88 },\n      { date: 2009, value: 73 },\n      { date: 2014, value: 70 },\n      { date: 2019, value: 72 },\n    ],\n  },\n  {\n    country: \"Argentina\",\n    value: 60,\n    color: \"#5d2f8e\",\n    prodH: [1, 3, 5, 10, 7.3],\n    dataset: [\n      { date: 1993, value: 90 },\n      { date: 1998, value: 88 },\n      { date: 2003, value: 75 },\n      { date: 2005, value: 88 },\n      { date: 2009, value: 73 },\n      { date: 2014, value: 70 },\n      { date: 2019, value: 60 },\n    ],\n  },\n  {\n    country: \"Kazakhstan\",\n    value: 86.2,\n    color: \"#008fc9\",\n    prodH: [12, 15, 18, 9, 16.0],\n    dataset: [\n      { date: 1993, value: 100 },\n      { date: 1998, value: 98 },\n      { date: 2003, value: 93 },\n      { date: 2005, value: 85 },\n      { date: 2009, value: 90 },\n      { date: 2014, value: 84 },\n      { date: 2019, value: 86.2 },\n    ],\n  },\n];\n\nconst years = [2000, 2005, 2010, 2015, 2020];\n\nfunction level1() {\n  const svgContainer = d3.select(\"#container3\");\n  const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart3\");\n\n  const margin = 80;\n  const width = 1000 - 2 * margin;\n  const height = 600 - 2 * margin;\n\n  const chart = svg\n    .append(\"g\")\n    .attr(\"transform\", `translate(${margin}, ${margin})`);\n\n  const xScale = d3\n    .scaleBand()\n    .range([0, width])\n    .domain(sample.map((s) => s.country))\n    .padding(0.4);\n\n  const yScale = d3.scaleLinear().range([height, 0]).domain([0, 100]);\n\n  const makeYLines = () => d3.axisLeft().scale(yScale);\n\n  chart\n    .append(\"g\")\n    .attr(\"transform\", `translate(0, ${height})`)\n    .call(d3.axisBottom(xScale));\n\n  chart.append(\"g\").call(d3.axisLeft(yScale));\n\n  chart\n    .append(\"g\")\n    .attr(\"class\", \"grid\")\n    .call(makeYLines().tickSize(-width, 0, 0).tickFormat(\"\"));\n\n  const barGroups = chart.selectAll().data(sample).enter().append(\"g\");\n\n  barGroups\n    .append(\"rect\")\n    .attr(\"class\", \"bar3\")\n    .attr(\"x\", (d) => {\n      return xScale(d.country);\n    })\n    .attr(\"width\", xScale.bandwidth())\n    .attr(\"height\", 0)\n    .transition()\n    .duration(500)\n    .delay(function (d, i) {\n      return i * 50;\n    })\n    .attr(\"y\", (d) => {\n      return yScale(d.value);\n    })\n    .attr(\"height\", (d) => {\n      return height - yScale(d.value);\n    });\n\n  d3.selectAll(\".bar3\")\n    .on(\"click\", function (actual, i) {\n      d3.selectAll(\".chart3\").remove();\n      level2(actual);\n    })\n    .on(\"mouseenter\", function (actual, i) {\n      d3.selectAll(\".value3\").attr(\"opacity\", 0);\n\n      d3.select(this)\n        .transition()\n        .duration(300)\n        .attr(\"opacity\", 0.6)\n        .attr(\"x\", (a) => xScale(a.country) - 5)\n        .attr(\"width\", xScale.bandwidth() + 10);\n\n      const y = yScale(actual.value);\n\n      const line = chart\n        .append(\"line\")\n        .attr(\"id\", \"limit\")\n        .attr(\"x1\", 0)\n        .attr(\"y1\", y)\n        .attr(\"x2\", width)\n        .attr(\"y2\", y);\n\n      barGroups\n        .append(\"text\")\n        .attr(\"class\", \"divergence\")\n        .attr(\"x\", (a) => xScale(a.country) + xScale.bandwidth() / 2)\n        .attr(\"y\", (a) => yScale(a.value) - 10)\n\n        .attr(\"text-anchor\", \"middle\")\n        .text((a, idx) => {\n          const divergence = (a.value - actual.value).toFixed(1);\n\n          let text = \"\";\n          if (divergence > 0) text += \"+\";\n          text += `${divergence}%`;\n\n          return idx !== i ? text : `${actual.country}, ${actual.value}%`;\n        });\n    })\n    .on(\"mouseleave\", function () {\n      d3.selectAll(\".value3\").attr(\"opacity\", 1);\n\n      d3.select(this)\n        .transition()\n        .duration(300)\n        .attr(\"opacity\", 1)\n        .attr(\"x\", (a) => xScale(a.country))\n        .attr(\"width\", xScale.bandwidth());\n\n      chart.selectAll(\"#limit\").remove();\n      chart.selectAll(\".divergence\").remove();\n    });\n\n  let text = barGroups\n    .append(\"text\")\n    .attr(\"class\", \"value3\")\n    .attr(\"x\", (a) => xScale(a.country) + xScale.bandwidth() / 2)\n    .attr(\"y\", (a) => yScale(a.value) - 5)\n    .attr(\"y\", (d) => {\n      return height;\n    })\n    .attr(\"height\", 0)\n    .transition()\n    .duration(500)\n    .delay(function (d, i) {\n      return i * 50;\n    })\n    .attr(\"y\", (d) => {\n      return yScale(d.value) - 20;\n    })\n    .attr(\"height\", (d) => {\n      return height - yScale(d.value);\n    })\n    .attr(\"height\", (a) => a.value)\n    .attr(\"text-anchor\", \"middle\")\n    .text(0);\n\n  text\n    .transition()\n    .tween(\"text\", function () {\n      var selection = d3.select(this); \n      var start = d3.select(this).text(); \n      var end = this.getAttribute(\"height\"); \n      var interpolator = d3.interpolateNumber(start, end); \n\n      return function (t) {\n        selection.text(Math.round(interpolator(t)));\n      }; \n    })\n    .duration(3000); \n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"label3\")\n    .attr(\"x\", -(height / 2) - margin)\n    .attr(\"y\", margin / 2.4)\n    .attr(\"transform\", \"rotate(-90)\")\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Out of total electricity genration (%)\");\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"title3\")\n    .attr(\"x\", width / 2 + margin)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Electricity generation by thermo power in 2019\");\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"back2\")\n    .attr(\"x\", width / 10)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Click to find out more\")\n    .on(\"click\", function (actual, i) {\n      d3.selectAll(\".chart3\").remove();\n      level3();\n    });\n}\n\nfunction level2(actual) {\n  const lineData = actual.dataset;\n  console.log(lineData);\n  const margin = 80;\n\n  const svgContainer = d3.select(\"#container3\");\n  const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart3\");\n\n  const chart = svg\n    .append(\"g\")\n    .attr(\"id\", \"visualisation\")\n    .attr(\"transform\", `translate(${margin / 2}, ${margin})`);\n\n  var vis = d3.select(\"#visualisation\"),\n    MARGINS = 80,\n    WIDTH = 1000 - 2 * MARGINS,\n    HEIGHT = 600 - 2 * MARGINS,\n    MARGINS = {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 50,\n    },\n    xRange = d3\n      .scaleLinear()\n      .range([0, WIDTH])\n      .domain(d3.extent(lineData, (dataPoint) => dataPoint.date)),\n    yRange = d3\n      .scaleLinear()\n      .range([HEIGHT - MARGINS.top, MARGINS.bottom])\n      .domain([\n        0,\n        d3.max(lineData, function (d) {\n          return d.value;\n        }),\n      ]),\n    xAxis = d3.axisBottom().scale(xRange),\n    yAxis = d3.axisLeft().scale(yRange);\n\n  const makeYLines = () => d3.axisLeft().scale(yRange);\n\n  chart\n    .append(\"g\")\n    .attr(\"class\", \"grid\")\n    .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\")\n    .call(makeYLines().tickSize(-WIDTH, 0, 0).tickFormat(\"\"));\n\n  vis\n    .append(\"svg:g\")\n    .attr(\"class\", \"x axis\")\n    .attr(\n      \"transform\",\n      \"translate(\" + MARGINS.left + \",\" + (HEIGHT - MARGINS.bottom) + \")\"\n    )\n    .call(xAxis);\n\n  vis\n    .append(\"svg:g\")\n    .attr(\"class\", \"y axis\")\n    .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\")\n    .call(yAxis);\n\n  var lineFunc = d3\n    .line()\n    .x(function (d) {\n      return xRange(d.date);\n    })\n    .y(function (d) {\n      return yRange(d.value);\n    })\n    .curve(d3.curveBasis);\n\n  const path = vis\n    .append(\"svg:path\")\n    .attr(\"d\", lineFunc(lineData))\n    .attr(\"stroke\", \"blue\")\n    .attr(\"stroke-width\", 2)\n    .attr(\"fill\", \"none\")\n    .attr(\"transform\", \"translate(\" + MARGINS.left + \",0)\");\n\n  let totalLength = path.node().getTotalLength();\n\n  path\n    .attr(\"stroke-dasharray\", totalLength + \" \" + totalLength)\n    .attr(\"stroke-dashoffset\", totalLength)\n    .transition()\n    .duration(4000)\n    .ease(d3.easeLinear)\n    .attr(\"stroke-dashoffset\", 0); \n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"title3\")\n    .attr(\"x\", WIDTH / 2 + 80)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(`Thermo power usage in ${actual.country} throughout the years`);\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"label3\")\n    .attr(\"x\", -(HEIGHT / 2) - 80)\n    .attr(\"y\", 80 / 2.4)\n    .attr(\"transform\", \"rotate(-90)\")\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Out of total electricity genration (%)\");\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"back3\")\n    .attr(\"x\", WIDTH / 10)\n    .attr(\"y\", 40)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Back\")\n    .on(\"click\", function (actual, i) {\n      d3.selectAll(\".chart3\").remove();\n      level1();\n    });\n}\n\nfunction level3() {\n  const svgContainer = d3.select(\"#container3\");\n  const svg = svgContainer.append(\"svg\").attr(\"class\", \"chart3\");\n  (MARGINS = 80),\n    (WIDTH = 1000 - 2 * MARGINS),\n    (HEIGHT = 600 - 2 * MARGINS),\n    (MARGINS = {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 50,\n    }),\n    svg\n      .append(\"foreignObject\")\n      .attr(\"class\", \"graph-title3\")\n      .attr(\"width\", WIDTH)\n      .attr(\"height\", 600)\n      .attr(\"x\", 50)\n      .attr(\"y\", 0)\n      .append(\"xhtml:body\")\n      .style(\"font\", \"14px 'Helvetica Neue'\")\n      .html(\n        \"<h1>Thermoelectricity</h1><div><div><p>Thermoelectricity, also called Peltier-Seebeck effect, direct conversion of heat into electricity or electricity into heat through two related mechanisms, the Seebeck effect and the Peltier effect.</p> <p>A thermoelectric device creates a voltage when there is a different temperature on each side. Conversely, when a voltage is applied to it, heat is transferred from one side to the other, creating a temperature difference. At the atomic scale, an applied temperature gradient causes charge carriers in the material to diffuse from the hot side to the cold side.This effect can be used to generate electricity, measure temperature or change the temperature of objects. <p> </p></div><div class='graph-div3'></div></div>\"\n      );\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"back4\")\n    .attr(\"x\", WIDTH / 10)\n    .attr(\"y\", 50)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\"Back\")\n    .on(\"click\", function () {\n      d3.selectAll(\".chart3\").remove();\n      level1();\n    });\n}\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  let h = document.getElementById(\"what4\");\n  h.onclick = function () {\n    level1();\n  };\n});\n"],"sourceRoot":""}